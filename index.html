
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Pulse - Full Restoration</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- MathJax Configuration and Script -->
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.4s ease-out forwards;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
        
        /* Math presentation helper */
        .math-frac { display: inline-block; vertical-align: middle; text-align: center; font-size: 0.9em; }
        .math-num { border-bottom: 1px solid black; display: block; padding: 0 2px; }
        .math-den { display: block; padding: 0 2px; }
        .math-expr { font-family: 'Times New Roman', serif; font-style: italic; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS ---
        const Icons = {
            RefreshCw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>,
            BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Play: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
            CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            XCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
            Award: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>,
            Eye: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>,
            ChevronDown: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>,
            ArrowRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Cpu: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></svg>,
            Terminal: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>,
            Grid: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>,
            Atom: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="1"/><path d="M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z"/><path d="M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z"/></svg>,
            Calculator: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="16" y1="14" x2="16" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>,
            FileText: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>,
            Message: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        };

        // --- DIAGRAM COMPONENTS ---
        const MuxTree16 = () => (<svg viewBox="0 0 300 200" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="50" y="20" width="60" height="100" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2" /><text x="80" y="70" textAnchor="middle" className="text-[10px] font-mono">8:1 MUX</text><rect x="50" y="130" width="60" height="60" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2" /><text x="80" y="160" textAnchor="middle" className="text-[10px] font-mono">8:1 MUX</text><rect x="200" y="80" width="60" height="60" fill="#dcfce7" stroke="#16a34a" strokeWidth="2" /><text x="230" y="110" textAnchor="middle" className="text-[10px] font-mono">2:1 MUX</text><path d="M110 70 L200 100" stroke="black" fill="none" /><path d="M110 160 L200 120" stroke="black" fill="none" /><line x1="260" y1="110" x2="290" y2="110" stroke="black" strokeWidth="2" /><text x="295" y="115" className="text-xs font-bold">Y</text></svg>);
        const MuxTree8 = () => (<svg viewBox="0 0 300 200" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="50" y="20" width="60" height="80" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2" /><text x="80" y="60" textAnchor="middle" className="text-[10px] font-mono">4:1 MUX</text><rect x="50" y="110" width="60" height="80" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2" /><text x="80" y="150" textAnchor="middle" className="text-[10px] font-mono">4:1 MUX</text><rect x="200" y="75" width="60" height="60" fill="#dcfce7" stroke="#16a34a" strokeWidth="2" /><text x="230" y="105" textAnchor="middle" className="text-[10px] font-mono">2:1 MUX</text><path d="M110 60 L200 95" stroke="black" fill="none" /><path d="M110 150 L200 115" stroke="black" fill="none" /><line x1="260" y1="105" x2="290" y2="105" stroke="black" strokeWidth="2" /><text x="295" y="110" className="text-xs font-bold">Y</text></svg>);
        const LogicGateAlarm = () => (<svg viewBox="0 0 300 150" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><path d="M80 60 Q100 60 110 80 Q100 100 80 100 Q90 80 80 60" fill="#fff" stroke="#000" strokeWidth="2" /><text x="40" y="70" className="text-xs font-bold">M</text><text x="40" y="90" className="text-xs font-bold">D</text><line x1="50" y1="70" x2="85" y2="70" stroke="black" /><line x1="50" y1="90" x2="85" y2="90" stroke="black" /><path d="M150 40 L180 40 Q200 40 200 65 Q200 90 180 90 L150 90 Z" fill="#fff" stroke="#000" strokeWidth="2" /><text x="130" y="50" className="text-xs font-bold">A</text><line x1="110" y1="80" x2="150" y2="80" stroke="black" /><line x1="140" y1="50" x2="150" y2="50" stroke="black" /><line x1="200" y1="65" x2="240" y2="65" stroke="black" strokeWidth="2" /><text x="245" y="70" className="text-sm font-bold">F = A(M+D)</text></svg>);
        const DecoderTree = () => (<svg viewBox="0 0 300 220" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="20" y="80" width="40" height="60" fill="#fce7f3" stroke="#db2777" strokeWidth="2" /><text x="40" y="115" textAnchor="middle" className="text-[10px] font-bold">2:4</text><rect x="120" y="10" width="40" height="40" fill="#e0f2fe" stroke="#0284c7" /><rect x="120" y="60" width="40" height="40" fill="#e0f2fe" stroke="#0284c7" /><rect x="120" y="110" width="40" height="40" fill="#e0f2fe" stroke="#0284c7" /><rect x="120" y="160" width="40" height="40" fill="#e0f2fe" stroke="#0284c7" /><path d="M60 90 L120 30" stroke="#ccc" fill="none" /><path d="M60 100 L120 80" stroke="#ccc" fill="none" /><path d="M60 110 L120 130" stroke="#ccc" fill="none" /><path d="M60 120 L120 180" stroke="#ccc" fill="none" /><text x="180" y="100" className="text-xs text-gray-500 font-semibold">4x (3-to-8 Decoders)</text><text x="10" y="70" className="text-[10px] font-bold text-gray-700">Select Inputs</text></svg>);
        const KMapCheckerboard = () => (<svg viewBox="0 0 300 220" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="60" y="60" width="160" height="160" fill="white" stroke="black" strokeWidth="2"/><line x1="100" y1="60" x2="100" y2="220" stroke="black"/><line x1="140" y1="60" x2="140" y2="220" stroke="black"/><line x1="180" y1="60" x2="180" y2="220" stroke="black"/><line x1="60" y1="100" x2="220" y2="100" stroke="black"/><line x1="60" y1="140" x2="220" y2="140" stroke="black"/><line x1="60" y1="180" x2="220" y2="180" stroke="black"/><text x="30" y="80" className="text-xs font-bold">00</text><text x="30" y="120" className="text-xs font-bold">01</text><text x="30" y="160" className="text-xs font-bold">11</text><text x="30" y="200" className="text-xs font-bold">10</text><text x="80" y="40" className="text-xs font-bold">00</text><text x="120" y="40" className="text-xs font-bold">01</text><text x="160" y="40" className="text-xs font-bold">11</text><text x="200" y="40" className="text-xs font-bold">10</text><text x="10" y="140" className="text-xs font-bold -rotate-90">B3B2</text><text x="140" y="20" className="text-xs font-bold">B1B0</text><text x="160" y="90" className="text-sm font-bold text-red-600">1</text><text x="200" y="90" className="text-sm font-bold text-red-600">1</text><text x="80" y="130" className="text-sm font-bold text-red-600">1</text><text x="120" y="130" className="text-sm font-bold text-red-600">1</text><text x="80" y="170" className="text-sm font-bold text-red-600">1</text><text x="120" y="170" className="text-sm font-bold text-red-600">1</text><text x="160" y="210" className="text-sm font-bold text-red-600">1</text><text x="200" y="210" className="text-sm font-bold text-red-600">1</text></svg>);
        const MuxRealizationZ = () => (<svg viewBox="0 0 200 250" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="80" y="40" width="80" height="180" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2"/><text x="120" y="130" textAnchor="middle" className="text-sm font-bold">8:1 MUX</text><text x="60" y="55" className="text-xs text-gray-600">0</text> <line x1="80" y1="50" x2="50" y2="50" stroke="black"/> <text x="40" y="55" className="text-xs font-bold">GND</text><text x="60" y="75" className="text-xs text-gray-600">1</text> <line x1="80" y1="70" x2="50" y2="70" stroke="red"/> <text x="40" y="75" className="text-xs font-bold text-red-600">VCC</text><text x="60" y="95" className="text-xs text-gray-600">2</text> <line x1="80" y1="90" x2="50" y2="90" stroke="black"/> <text x="40" y="95" className="text-xs font-bold">GND</text><text x="60" y="115" className="text-xs text-gray-600">3</text> <line x1="80" y1="110" x2="50" y2="110" stroke="red"/> <text x="40" y="115" className="text-xs font-bold text-red-600">VCC</text><text x="60" y="135" className="text-xs text-gray-600">4</text> <line x1="80" y1="130" x2="50" y2="130" stroke="black"/> <text x="40" y="135" className="text-xs font-bold">GND</text><text x="60" y="155" className="text-xs text-gray-600">5</text> <line x1="80" y1="150" x2="50" y2="150" stroke="red"/> <text x="40" y="155" className="text-xs font-bold text-red-600">VCC</text><text x="60" y="175" className="text-xs text-gray-600">6</text> <line x1="80" y1="170" x2="50" y2="170" stroke="red"/> <text x="40" y="175" className="text-xs font-bold text-red-600">VCC</text><text x="60" y="195" className="text-xs text-gray-600">7</text> <line x1="80" y1="190" x2="50" y2="190" stroke="red"/> <text x="40" y="195" className="text-xs font-bold text-red-600">VCC</text><text x="180" y="130" className="text-xs font-bold">Z</text> <line x1="160" y1="125" x2="180" y2="125" stroke="black"/><text x="90" y="240" className="text-xs">S2 S1 S0</text><text x="90" y="250" className="text-xs font-bold">(A B C)</text></svg>);
        const MuxMinterms = () => (<svg viewBox="0 0 200 250" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="80" y="40" width="80" height="180" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2"/><text x="120" y="130" textAnchor="middle" className="text-sm font-bold">8:1 MUX</text><line x1="80" y1="50" x2="50" y2="50" stroke="red"/> <text x="35" y="55" className="text-[10px] font-bold">1</text><line x1="80" y1="70" x2="50" y2="70" stroke="green"/> <text x="35" y="75" className="text-[10px] font-bold">D'</text><line x1="80" y1="90" x2="50" y2="90" stroke="red"/> <text x="35" y="95" className="text-[10px] font-bold">1</text><line x1="80" y1="110" x2="50" y2="110" stroke="green"/> <text x="35" y="115" className="text-[10px] font-bold">D'</text><line x1="80" y1="130" x2="50" y2="130" stroke="blue"/> <text x="35" y="135" className="text-[10px] font-bold">D</text><line x1="80" y1="150" x2="50" y2="150" stroke="blue"/> <text x="35" y="155" className="text-[10px] font-bold">D</text><line x1="80" y1="170" x2="50" y2="170" stroke="black"/> <text x="35" y="175" className="text-[10px] font-bold">0</text><line x1="80" y1="190" x2="50" y2="190" stroke="black"/> <text x="35" y="195" className="text-[10px] font-bold">0</text><text x="180" y="130" className="text-xs font-bold">F</text> <line x1="160" y1="125" x2="180" y2="125" stroke="black"/></svg>);
        const MuxLogicGate = () => (<svg viewBox="0 0 300 200" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="200" y="40" width="60" height="120" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2"/><text x="230" y="100" textAnchor="middle" className="text-xs font-bold">4:1 MUX</text><path d="M50 40 L70 40 Q80 40 80 50 L80 60 L50 60 Z" fill="white" stroke="black"/> <text x="60" y="55" className="text-[8px]">AND</text><path d="M50 70 Q70 70 80 80 Q70 90 50 90 Q60 80 50 70" fill="white" stroke="black"/> <text x="60" y="85" className="text-[8px]">OR</text><path d="M50 100 Q70 100 80 110 Q70 120 50 120 Q60 110 50 100 M45 100 Q65 100 75 110 Q65 120 45 120" fill="none" stroke="black"/> <text x="60" y="115" className="text-[8px]">XOR</text><path d="M50 130 L70 130 Q80 130 80 140 L80 150 L50 150 Z" fill="white" stroke="black"/> <circle cx="82" cy="140" r="2" fill="white" stroke="black"/> <text x="55" y="145" className="text-[8px]">NAND</text><line x1="80" y1="50" x2="200" y2="55" stroke="red" strokeWidth="2"/> <text x="190" y="55" className="text-[10px]">0</text><line x1="80" y1="80" x2="200" y2="85" stroke="green" strokeWidth="2"/> <text x="190" y="85" className="text-[10px]">1</text><line x1="80" y1="110" x2="200" y2="115" stroke="black" strokeWidth="1"/> <text x="190" y="115" className="text-[10px]">2</text><line x1="85" y1="140" x2="200" y2="145" stroke="black" strokeWidth="1"/> <text x="190" y="145" className="text-[10px]">3</text><text x="210" y="180" className="text-xs font-bold">S1 S0</text><text x="210" y="195" className="text-xs font-bold text-green-600">0 1</text></svg>);
        const KMapSimplify = () => (<svg viewBox="0 0 300 220" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="60" y="60" width="160" height="160" fill="white" stroke="black" strokeWidth="2"/><line x1="100" y1="60" x2="100" y2="220" stroke="black"/><line x1="140" y1="60" x2="140" y2="220" stroke="black"/><line x1="180" y1="60" x2="180" y2="220" stroke="black"/><line x1="60" y1="100" x2="220" y2="100" stroke="black"/><line x1="60" y1="140" x2="220" y2="140" stroke="black"/><line x1="60" y1="180" x2="220" y2="180" stroke="black"/><text x="30" y="80" className="text-xs font-bold">00</text><text x="30" y="120" className="text-xs font-bold">01</text><text x="30" y="160" className="text-xs font-bold">11</text><text x="30" y="200" className="text-xs font-bold">10</text><text x="80" y="40" className="text-xs font-bold">00</text><text x="120" y="40" className="text-xs font-bold">01</text><text x="160" y="40" className="text-xs font-bold">11</text><text x="200" y="40" className="text-xs font-bold">10</text><text x="10" y="140" className="text-xs font-bold -rotate-90">AB</text><text x="140" y="20" className="text-xs font-bold">CD</text><rect x="102" y="62" width="76" height="76" rx="10" fill="none" stroke="blue" strokeWidth="3"/><text x="120" y="90" className="text-sm font-bold">1</text> <text x="160" y="90" className="text-sm font-bold">1</text><text x="120" y="130" className="text-sm font-bold">1</text> <text x="160" y="130" className="text-sm font-bold">1</text><rect x="182" y="102" width="36" height="116" rx="10" fill="none" stroke="green" strokeWidth="3" strokeDasharray="4"/><text x="200" y="130" className="text-sm font-bold">1</text><text x="200" y="210" className="text-sm font-bold">1</text><text x="200" y="170" className="text-sm font-bold">1</text><text x="120" y="170" className="text-sm font-bold">1</text></svg>);
        const KMapSOP = () => (<svg viewBox="0 0 300 220" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="60" y="60" width="160" height="160" fill="white" stroke="black" strokeWidth="2"/><line x1="100" y1="60" x2="100" y2="220" stroke="black"/><line x1="140" y1="60" x2="140" y2="220" stroke="black"/><line x1="180" y1="60" x2="180" y2="220" stroke="black"/><line x1="60" y1="100" x2="220" y2="100" stroke="black"/><line x1="60" y1="140" x2="220" y2="140" stroke="black"/><line x1="60" y1="180" x2="220" y2="180" stroke="black"/><text x="30" y="80" className="text-xs font-bold">00</text><text x="30" y="120" className="text-xs font-bold">01</text><text x="30" y="160" className="text-xs font-bold">11</text><text x="30" y="200" className="text-xs font-bold">10</text><text x="80" y="40" className="text-xs font-bold">00</text><text x="120" y="40" className="text-xs font-bold">01</text><text x="160" y="40" className="text-xs font-bold">11</text><text x="200" y="40" className="text-xs font-bold">10</text><text x="10" y="140" className="text-xs font-bold -rotate-90">AB</text><text x="140" y="20" className="text-xs font-bold">CD</text><text x="80" y="90" className="text-sm font-bold text-gray-300">0</text><text x="120" y="90" className="text-sm font-bold text-gray-300">0</text><text x="160" y="90" className="text-sm font-bold text-red-600">1</text><text x="200" y="90" className="text-sm font-bold text-gray-300">0</text><text x="80" y="130" className="text-sm font-bold text-red-600">1</text><text x="120" y="130" className="text-sm font-bold text-red-600">1</text><text x="160" y="130" className="text-sm font-bold text-red-600">1</text><text x="200" y="130" className="text-sm font-bold text-red-600">1</text><text x="80" y="170" className="text-sm font-bold text-gray-300">0</text><text x="120" y="170" className="text-sm font-bold text-red-600">1</text><text x="160" y="170" className="text-sm font-bold text-red-600">1</text><text x="200" y="170" className="text-sm font-bold text-red-600">1</text><text x="80" y="210" className="text-sm font-bold text-gray-300">0</text><text x="120" y="210" className="text-sm font-bold text-red-600">1</text><text x="160" y="210" className="text-sm font-bold text-gray-300">0</text><text x="200" y="210" className="text-sm font-bold text-gray-300">0</text></svg>);
        const LogicDiagramMuxAB = () => (<svg viewBox="0 0 300 150" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="80" y="30" width="40" height="80" fill="#e0f2fe" stroke="#0284c7" strokeWidth="2"/><text x="100" y="75" textAnchor="middle" className="text-[10px] font-bold">MUX</text><rect x="20" y="30" width="20" height="20" fill="none" stroke="black" /> <text x="10" y="45" className="text-xs">a</text><rect x="20" y="80" width="20" height="20" fill="none" stroke="black" /> <text x="10" y="95" className="text-xs">b</text><line x1="40" y1="40" x2="80" y2="40" stroke="green" strokeWidth="2"/><line x1="40" y1="90" x2="80" y2="90" stroke="green" strokeWidth="2"/><path d="M140 40 Q160 40 170 50 Q160 60 140 60 Q150 50 140 40" fill="white" stroke="black"/> <path d="M140 80 Q160 80 170 90 Q160 100 140 100 Q150 90 140 80" fill="white" stroke="black"/><line x1="120" y1="50" x2="140" y2="50" stroke="red" strokeWidth="2"/><line x1="120" y1="90" x2="140" y2="90" stroke="red" strokeWidth="2"/><path d="M200 60 L220 60 Q230 60 230 70 L230 80 L200 80 Z" fill="white" stroke="black"/> <circle cx="232" cy="70" r="2" fill="white" stroke="black"/> <line x1="170" y1="50" x2="200" y2="65" stroke="red" strokeWidth="2"/><line x1="170" y1="90" x2="200" y2="75" stroke="red" strokeWidth="2"/><text x="250" y="75" className="text-xs font-bold">F</text></svg>);
        const LogicCircuitNORs = () => (<svg viewBox="0 0 300 150" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><text x="20" y="45" className="text-xs font-bold">A</text><text x="20" y="95" className="text-xs font-bold">B</text><path d="M50 30 Q70 30 80 40 Q70 50 50 50 Q60 40 50 30" fill="white" stroke="black"/> <circle cx="82" cy="40" r="2" fill="white" stroke="black"/><path d="M50 80 Q70 80 80 90 Q70 100 50 100 Q60 90 50 80" fill="white" stroke="black"/> <circle cx="82" cy="90" r="2" fill="white" stroke="black"/><path d="M120 55 Q140 55 150 65 Q140 75 120 75 Q130 65 120 55" fill="white" stroke="black"/> <circle cx="152" cy="65" r="2" fill="white" stroke="black"/><line x1="84" y1="40" x2="120" y2="60" stroke="black"/><line x1="84" y1="90" x2="120" y2="70" stroke="black"/><path d="M190 55 Q210 55 220 65 Q210 75 190 75 Q200 65 190 55" fill="white" stroke="black"/> <circle cx="222" cy="65" r="2" fill="white" stroke="black"/><line x1="154" y1="65" x2="190" y2="65" stroke="black"/><text x="240" y="70" className="text-xs font-bold">Q</text></svg>);
        const KMapGrayCode = () => (<svg viewBox="0 0 300 220" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><rect x="60" y="60" width="160" height="160" fill="white" stroke="black" strokeWidth="2"/><line x1="100" y1="60" x2="100" y2="220" stroke="black"/><line x1="140" y1="60" x2="140" y2="220" stroke="black"/><line x1="180" y1="60" x2="180" y2="220" stroke="black"/><line x1="60" y1="100" x2="220" y2="100" stroke="black"/><line x1="60" y1="140" x2="220" y2="140" stroke="black"/><line x1="60" y1="180" x2="220" y2="180" stroke="black"/><text x="30" y="80" className="text-xs font-bold">00</text><text x="30" y="120" className="text-xs font-bold">01</text><text x="30" y="160" className="text-xs font-bold">11</text><text x="30" y="200" className="text-xs font-bold">10</text><text x="80" y="40" className="text-xs font-bold">00</text><text x="120" y="40" className="text-xs font-bold">01</text><text x="160" y="40" className="text-xs font-bold">11</text><text x="200" y="40" className="text-xs font-bold">10</text><text x="10" y="140" className="text-xs font-bold -rotate-90">B4B3</text><text x="140" y="20" className="text-xs font-bold">B2B1</text><text x="80" y="90" className="text-sm font-bold text-gray-400">0</text><text x="120" y="90" className="text-sm font-bold text-gray-400">0</text><text x="160" y="90" className="text-sm font-bold text-red-600">1</text><text x="200" y="90" className="text-sm font-bold text-red-600">1</text><text x="80" y="130" className="text-sm font-bold text-red-600">1</text><text x="120" y="130" className="text-sm font-bold text-red-600">1</text><text x="160" y="130" className="text-sm font-bold text-gray-400">0</text><text x="200" y="130" className="text-sm font-bold text-gray-400">0</text><text x="80" y="170" className="text-sm font-bold text-red-600">1</text><text x="120" y="170" className="text-sm font-bold text-red-600">1</text><text x="160" y="170" className="text-sm font-bold text-gray-400">0</text><text x="200" y="170" className="text-sm font-bold text-gray-400">0</text><text x="80" y="210" className="text-sm font-bold text-gray-400">0</text><text x="120" y="210" className="text-sm font-bold text-gray-400">0</text><text x="160" y="210" className="text-sm font-bold text-red-600">1</text><text x="200" y="210" className="text-sm font-bold text-red-600">1</text></svg>);
        const LogicInvertersToG1G2 = () => (<svg viewBox="0 0 350 200" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><text x="20" y="55" className="text-sm font-bold">A</text><text x="20" y="105" className="text-sm font-bold">B</text><path d="M50 45 L80 55 L50 65 Z" fill="white" stroke="#0ea5e9" strokeWidth="2"/><circle cx="84" cy="55" r="4" fill="white" stroke="#0ea5e9" strokeWidth="2"/><line x1="30" y1="55" x2="50" y2="55" stroke="#0ea5e9" strokeWidth="2"/><path d="M50 95 L80 105 L50 115 Z" fill="white" stroke="#0ea5e9" strokeWidth="2"/><circle cx="84" cy="105" r="4" fill="white" stroke="#0ea5e9" strokeWidth="2"/><line x1="30" y1="105" x2="50" y2="105" stroke="#0ea5e9" strokeWidth="2"/><rect x="120" y="40" width="60" height="80" fill="white" stroke="#0ea5e9" strokeWidth="2"/><text x="150" y="85" textAnchor="middle" className="text-lg font-bold text-[#0ea5e9]">G1</text><line x1="88" y1="55" x2="120" y2="55" stroke="#0ea5e9" strokeWidth="2"/><line x1="88" y1="105" x2="120" y2="105" stroke="#0ea5e9" strokeWidth="2"/><rect x="220" y="40" width="60" height="80" fill="white" stroke="#0ea5e9" strokeWidth="2"/><text x="250" y="85" textAnchor="middle" className="text-lg font-bold text-[#0ea5e9]">G2</text><line x1="180" y="60" x2="220" y2="60" stroke="#0ea5e9" strokeWidth="2"/><text x="195" y="145" textAnchor="middle" className="text-sm font-bold text-[#0ea5e9]">C</text><polyline points="195,130 195,100 220,100" fill="none" stroke="#0ea5e9" strokeWidth="2"/><line x1="280" y1="80" x2="320" y2="80" stroke="#0ea5e9" strokeWidth="2"/><text x="330" y="85" className="text-lg font-bold text-[#0ea5e9]">Y</text></svg>);
        const WaveFunctionN3 = () => (<svg viewBox="0 0 300 150" className="w-full max-w-md mx-auto bg-white rounded shadow-sm border border-gray-100 p-2"><line x1="20" y1="75" x2="280" y2="75" stroke="#888" strokeDasharray="4"/><line x1="20" y1="20" x2="20" y2="130" stroke="black" strokeWidth="2"/><line x1="20" y1="75" x2="290" y2="75" stroke="black"/><path d="M20 75 Q 50 -20 85 75 Q 120 170 150 75 Q 180 -20 215 75" fill="none" stroke="black" strokeWidth="2"/><text x="10" y="80" className="text-xs font-bold">0</text><text x="210" y="90" className="text-xs font-bold">L</text><text x="20" y="15" className="text-xs font-bold">ψ(x)</text><text x="250" y="75" className="text-xs font-bold">x</text></svg>);

        // --- DATA SETS ---
        const logicData = [
            { id: 1, question: "To implement a 5-to-32 Decoder using smaller decoders, what is the most standard efficient configuration?", options: ["Four 3-to-8-decoders and two 2-to-4 decoder", "One 2-to-4 decoder and four 3-to-8 decoders", "Two 3-to-8 decoders and two 2-to-4 decoders", "Eight 2-to-4 decoder"], answer: 1, explanation: "A 5-to-32 decoder has 5 inputs and 32 outputs. To build this using 3-to-8 decoders (which have 3 inputs and 8 outputs), we first look at the outputs. 32 outputs / 8 outputs per decoder = 4 decoders needed at the output stage. These 4 decoders handle the lower 3 bits of the input. To select which of these 4 decoders is active based on the remaining 2 upper bits, we need a 2-to-4 decoder. Thus, the total is One 2-to-4 decoder (driving the enable pins) and Four 3-to-8 decoders.", diagramType: "decoder-tree" },
            { id: 2, question: "You are tasked with designing a 16-to-1 multiplexer using only 8-to-1 multiplexers. What is the minimum number of 8-to-1 multiplexers needed to implement this, and what additional digital component is required?", options: ["Four 8-to-1 multiplexers and one 4-to-1 multiplexer", "Two 8-to-1 multiplexers and no additional components", "Two 8-to-1 multiplexers and one 2-to-1 multiplexer"], answer: 2, explanation: "A 16-to-1 MUX selects 1 output from 16 inputs. An 8-to-1 MUX handles 8 inputs. Two 8-to-1 MUXes can handle the 16 inputs (Inputs 0-7 on MUX 1, Inputs 8-15 on MUX 2). This gives us 2 intermediate outputs. To get the final single output, we need to select between these 2. A 2-to-1 multiplexer is required for this final stage.", diagramType: "mux-tree-16" },
            { id: 3, question: "How many 3-to-8 decoders are needed to construct a 6-to-64 decoder without using any external gates?", options: ["9", "7", "10", "8"], answer: 0, explanation: "Target: 64 outputs. Using 3-to-8 decoders (8 outputs each). First layer: 64 / 8 = 8 decoders. These 8 decoders handle the lower 3 bits. We need to select one of these 8 decoders based on the upper 3 bits. To select 1 of 8, we need exactly one more 3-to-8 decoder driving the enable inputs of the first layer. Total = 8 (output layer) + 1 (selection layer) = 9 decoders.", diagramType: "none" },
            { id: 4, question: "You need to design an 8-to-1 multiplexer using 4-to-1 multiplexers. What is required?", options: ["Three 4-to-1 multiplexers and no additional components", "Three 4-to-1 multiplexers and two NOT gates", "Four 4-to-1 multiplexers and two 2-to-1 multiplexers", "Two 4-to-1 multiplexers and one 2-to-1 multiplexer"], answer: 3, explanation: "Inputs 0-3 go to the first 4-to-1 MUX. Inputs 4-7 go to the second 4-to-1 MUX. This resolves 8 inputs down to 2 outputs. A final 2-to-1 MUX is needed to select between the two. Note: A 2-to-1 MUX can be built using a 4-to-1 MUX (wiring inputs) if constrained to *only* 4-to-1, but the option 'Two 4-to-1 and one 2-to-1' is the standard minimal component set if 2-to-1s are allowed.", diagramType: "mux-tree-8" },
            { id: 5, question: "In a decoder, if the number of input lines is 4, the number of output lines is:", options: ["16", "1", "8", "4"], answer: 0, explanation: "A decoder with n inputs has 2^n outputs. If n=4, outputs = 2^4 = 16.", diagramType: "none" },
            { id: 6, question: "Alarm System: Outputs 1 if Alarm Switch (A) is on AND (Either motion sensor M is 1 OR door sensor D is 1). The function is:", options: ["F = A + M + D", "F = AM + D", "F = A(M + D)", "F = AMD"], answer: 2, explanation: "Logic translation: 'A is on' -> A. 'AND' -> logical multiplication. 'Either M or D' -> (M + D). Combining them: F = A AND (M OR D) = A(M + D).", diagramType: "logic-gate-alarm" },
            { id: 7, question: "Write the simplified equation for the K-Map where rows (B3,B2) 00,10 have 1s at cols (11,10) and rows 01,11 have 1s at cols (00,01).", options: ["Y = B3'B0 + B4'B3", "Y = B1'B0 + B0'B1", "Y = B1'B2 + B2'B1", "Y = B3'B2 + B2'B3"], answer: 2, explanation: "Analyzing the groups: We have 1s when B2=0 and B1=1 (Group B2'B1), and we have 1s when B2=1 and B1=0 (Group B2B1'). Combining these gives Y = B1'B2 + B2'B1, which is the XOR function (B1 ⊕ B2).", diagramType: "kmap-checkerboard" },
            { id: 8, question: "Which of the following is the correct realization of Z = AB + C using an 8-to-1 MUX (Selectors A, B, C)?", options: ["Inputs 1, 2, 4, 5 tied to VCC", "Inputs 0, 1, 2, 3 tied to VCC", "Inputs 1, 3, 5, 6, 7 tied to VCC (Logic 1)", "Inputs 0, 2, 4, 6 tied to VCC"], answer: 2, explanation: "Minterms for Z = AB + C: Term C covers minterms 1 (001), 3 (011), 5 (101), 7 (111). Term AB covers minterms 6 (110), 7 (111). Taking the union: 1, 3, 5, 6, 7. Therefore, inputs 1, 3, 5, 6, 7 must be connected to Logic 1 (VCC), and the rest to Logic 0 (GND).", diagramType: "mux-realization-z" },
            { id: 9, question: "In the circuit diagram where inputs A,B,C are connected to S2,S1,S0, and data inputs are configured as (0->1, 1->D', 2->1, 3->D', 4->D, 5->D, 6->0, 7->0), what is the function F(A,B,C,D)?", options: ["Σ(0,1,2,4,5,9,11,12)", "Σ(0,1,2,3,4,5,9,11)", "Σ(0,1,2,4,5,6,9,11)", "Σ(1,2,3,4,5,9,11,15)"], answer: 2, explanation: "We analyze each MUX input: Input 0=1 covers m0, m1. Input 1=D' covers m2(0010). Input 2=1 covers m4, m5. Input 3=D' covers m6(0110). Input 4=D covers m9(1001). Input 5=D covers m11(1011). Inputs 6,7=0. Collecting all minterms: 0, 1, 2, 4, 5, 6, 9, 11.", diagramType: "mux-minterms" },
            { id: 10, question: "What is the function of the output F in a logic circuit where Selectors S1 S0 = 01, and the inputs are 0:AND, 1:OR, 2:XOR, 3:NAND?", options: ["AB", "A'B", "(AB)'", "A+B"], answer: 3, explanation: "The MUX Select lines S1 S0 are set to '01'. This corresponds to decimal 1. The MUX will simply pass the signal from Input 1 to the output. Input 1 is connected to an OR gate with inputs A and B. Therefore, F = A + B.", diagramType: "mux-logic-gate" },
            { id: 11, question: "Simplify the expression using K-maps: F(A,B,C,D) = Σ(1,3,5,6,7,11,13,14)", options: ["AC'D' + BC + A'BD + C'D'", "A'D + B'CD + BC'D + BCD'", "AB + BC'D + A'B'C", "BCD' + A'C'D + BD'"], answer: 1, explanation: "Grouping the 1s: Group (1,3,5,7) gives A'D. Group (6, 14) gives BCD'. Group (11, 3) gives B'CD. Group (13, 5) gives BC'D. Summing these terms: A'D + B'CD + BC'D + BCD'.", diagramType: "kmap-simplify" },
            { id: 12, question: "The K-map given represents bit G2 for a 4-bit Binary (B4B3B2B1) to Gray (G4G3G2G1) converter. What is the expression of G2?", options: ["Y = B2 ⊕ B4", "Y = B3 ⊕ B4", "Y = B3 ⊕ B2", "Y = B3 ⊕ B1"], answer: 2, explanation: "The formula for Binary to Gray conversion is: G_n = B_n (MSB), and G_i = B_{i+1} XOR B_i for other bits. For a 4-bit system B4,B3,B2,B1: G2 corresponds to the interaction between B3 and B2. Specifically, G2 = B3 XOR B2.", diagramType: "kmap-gray-code" },
            { id: 13, question: (<span>Identify gates G1 and G2 respectively in the figure to get Y = ABC. (Structure: A,B -&gt; Inverters -&gt; G1 -&gt; G2(with C) -&gt; Y)<br /><img src="Screenshot 2025-12-10 000135.png" alt="Logic Diagram" className="max-w-full h-auto mt-4 rounded border border-gray-300" /></span>), options: ["NAND & OR", "OR & AND", "AND & AND", "NOR & AND"], answer: 3, explanation: "1. Inputs A and B first go through inverters (the triangle with circle), becoming A' and B'. 2. We need an output of AB from G1 to combine with C later. 3. If G1 is a NOR gate, it takes A' and B' to produce (A' + B')'. By DeMorgan's Law, (A' + B')' = A''B'' = AB. 4. Now we have AB going into G2 along with C. To get ABC, G2 must be an AND gate. Therefore: NOR & AND.", diagramType: "none" },
            { id: 14, question: "Consider a scenario where a logic gate has an I_OH of 4 mA and drives four other gates. If each of these gates has an I_IH of 0.5 mA, is the output driving capability of the gate being exceeded?", options: ["Yes", "Information insufficient", "Not applicable", "No"], answer: 3, explanation: "Total current required by load = 4 gates * 0.5 mA/gate = 2.0 mA. The driving gate can supply (source) 4.0 mA. Since 2.0 mA < 4.0 mA, the capability is NOT exceeded.", diagramType: "none" },
            { id: 15, question: "Determine the maximum fanout for a gate with I_OH = -4mA, I_OL = 12mA, I_IH = -0.8mA, I_IL = 2mA.", options: ["5", "6", "15", "10"], answer: 0, explanation: "Fanout High = |I_OH| / |I_IH| = 4mA / 0.8mA = 5. Fanout Low = I_OL / I_IL = 12mA / 2mA = 6. The maximum valid fanout is the lower of the two limits (worst case), which is 5.", diagramType: "none" },
            { id: 16, question: "Minimum number of 2 input NAND gates to implement F = AB + CD + E?", options: ["4", "5", "3", "6", "8"], answer: 3, explanation: "This requires 6 gates. 1. Generate AB (need 2 gates if strictly 2-input NAND-NAND logic for AND? No, NAND+INV). Actually, the standard 2-level AND-OR to NAND-NAND conversion: F = ((AB)' (CD)' E')'. To get (AB)', use 1 NAND. To get (CD)', use 1 NAND. E' requires 1 NAND (inverter). Then combine them: NAND((AB)', (CD)', E'). If 3-input NAND is allowed, total 4. If only 2-input NANDs allowed, the final 3-input NAND must be decomposed, which adds 2 more gates. Total = 6.", diagramType: "none" },
            { id: 17, question: "A half adder circuit can only be used to add ______ in two n-bit numbers.", options: ["The least significant bit", "Any bit, regardless of its location", "The most significant bit"], answer: 0, explanation: "A half adder adds two bits and produces a Sum and a Carry. It has NO input for a 'Carry In' from a previous stage. Therefore, it can only effectively add the very first bits (Least Significant Bits) of a number. All subsequent bit positions need a Full Adder to handle the carry coming from the right.", diagramType: "none" },
            { id: 18, question: "Digital circuits can be made by the repeated use of ______ ONLY. (Select Universal Gates)", options: ["OR gates", "NAND gates and NOR gates", "AND gates", "None of these"], answer: 1, explanation: "NAND and NOR gates are 'Universal Gates' because you can build ANY other logic gate (AND, OR, NOT, XOR, etc.) using combinations of just NANDs or just NORs.", diagramType: "none" },
            { id: 19, question: "Which Circuit detects if a 3-bit binary number (ABC) is even (F=1 when even)?", options: ["F = C'", "F = ABC", "F = C", "F = (A XOR B XOR C)'"], answer: 0, explanation: "In binary, a number is even if its Least Significant Bit (LSB) is 0. Assuming the order is A(MSB) B C(LSB), the number is even if C=0. The logic for 'C is 0' is F = C' (NOT C). If the question meant 'Even Parity' (even number of 1s), the answer would be XNOR, but 'Binary number is even' refers to the value.", diagramType: "none" },
            { id: 20, question: "Weekend Detector: 3-bit input (ABC) where 001=Sun... 110=Fri, 111=Sat. Detect Weekend (Fri & Sat). What are the optimal inputs?", options: ["A", "A, B, C", "A, B", "A, C"], answer: 2, explanation: "Friday is 110. Saturday is 111. We want F=1 for 110 and 111. F = ABC' + ABC = AB(C' + C) = AB. The function only depends on inputs A and B being 1.", diagramType: "none" },
            { id: 21, question: "Identify the pattern: F(W,X,Y,Z) = Sigma m(1,3,4,6,9,11,12,14). Function is independent of which variables and what pattern?", options: ["W, Y, XOR", "W, X, XOR", "X, Y, XNOR", "Y, Z, XNOR"], answer: 0, explanation: "Let's look at the minterms in binary: 0001, 0011, 0100, 0110, 1001, 1011, 1100, 1110. Notice that regardless of W and Y, the pattern holds? No, let's look at X and Z. 0001 (X=0,Z=1), 0011 (X=0,Z=1). 0100 (X=1,Z=0), 0110 (X=1,Z=0). This looks like F is 1 when (X=0, Z=1) or (X=1, Z=0). This is X XOR Z. If F = X XOR Z, then W and Y are irrelevant (Independent).", diagramType: "none" },
            { id: 22, question: "Find F(A,B,C,D) in SOP from the following K-map.", options: ["BD + A'BD' + A'CD + ACD' + ABD", "A'BC' + A'CD + AC'D + ABC", "A'BD' + A'C'D + ACD' + ABD", "BD + A'BD' + A'C'D + ACD'"], answer: 1, explanation: "Based on the provided options and standard K-map patterns often associated with this problem, Option B covers the specific arrangement of 1s in the visual map (which typically shows a checkerboard or specific block pattern). Without the precise cell data, we select B as the key-matched answer.", diagramType: "kmap-sop" },
            { id: 23, question: "The minimum number of 2-input NAND Gates required to reduce the expression ((A+B)C)D is \n Hint: (XZ+YZ) = NAND(NAND(XY), NAND(YZ))", options: ["4", "6", "5", "8"], answer: 2, explanation: "1. Expand the expression: F = (A+B)CD = ACD + BCD. 2. Treat 'CD' as a common term Z. Then F = AZ + BZ. 3. Gate 1: Generate Z' = NAND(C,D). 4. Gate 2: Invert to get Z = CD. 5. Gate 3: NAND(A, Z). 6. Gate 4: NAND(B, Z). 7. Gate 5: NAND(Gate3, Gate4) gives the final sum AZ + BZ. Total = 5 Gates.", diagramType: "none" },
            { id: 24, question: (<span>The logic expression of the output F in the following logic diagram is: <br /><img src="Screenshot%202025-12-08%20171304.png" alt="Logic Diagram" className="max-w-full h-auto mt-4 rounded border border-gray-300" /></span>), options: ["F = a + b'", "F = a' + b", "F = a'b + ab'", "F = (a'b)'"], answer: 1, explanation: "the nand can only output 0 if it recieves two 1's so basically all values of ab give 1 excepect if ab' as then both or gates will output 1 so we have a'b'+a'b+ab simplifeid into a'+b simplified into a'+b", },
            { id: 25, question: "The output of the logic circuit given below represents _____ gate. (Structure: NOR inverters feeding a NOR, feeding another inverter)", options: ["AND", "XNOR", "NAND", "OR"], answer: 2, explanation: "1. Inputs A and B go through NOR gates wired as inverters -> A', B'. 2. These feed a NOR gate -> (A' + B')' = A''B'' = AB (AND). 3. The output AB goes through a final NOR wired as an inverter -> (AB)' = NAND.", diagramType: "logic-circuit-nors" }
        ];

        // 2. PROGRAMMING DATA (Full 10 Questions)
        const programmingData = [
            { id: 1, question: "Knowing the number of values to be saved in a vector, which is more efficient?", options: ["Initialize an empty vector and then push each value", "Initialize vector of size equal number of values then edit each value separately", "A and B", "Neither A nor B"], answer: 1, explanation: "More memory must be found to hold the longer vector, and all elements must be copied into the larger space. If you already know how many elements you need in a vector, you should specify that size when you define the vector, then fill it. (Slide 45)", diagramType: "none" },
            { id: 2, question: (<span>What is the output of the following code? <br /><img src="Screenshot%202025-12-09%20211857.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["537", "2", "4", "compilation error", "014", "01"], answer: 1, explanation: "1. Initial vector: {1, 2, 5, 0, 3, 1, 7, 4, 6}. 2. pop_back() removes 6. push_back(3) adds 3. New vector: {1, 2, 5, 0, 3, 1, 7, 4, 3}. 3. The loop checks if v[i] > v[i-1] AND v[i] < v[i+1]. Checking Index 1 (Value 2): Is 2 > 1? Yes. Is 2 < 5? Yes. This prints 2. All other elements fail this check.", diagramType: "none" },
            { id: 3, question: (<span>What is the output of the following code? <br /><img src="Screenshot%202025-12-09%20213206.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["compilation error", "12035", "12503", "25103", "25130"], answer: 4, explanation: "The function iterates through the vector and swaps v[i] with v[i+1] if v[i] < v[i+1]. Crucially, the loop operates on the *modified* vector at each step.\n\nTrace for {1, 2, 5, 0, 3}:\n1. i=0: compare 1 & 2. (1 < 2) -> Swap -> {2, 1, 5, 0, 3}\n2. i=1: compare 1 & 5. (1 < 5) -> Swap -> {2, 5, 1, 0, 3}\n3. i=2: compare 1 & 0. (1 > 0) -> No Swap -> {2, 5, 1, 0, 3}\n4. i=3: compare 0 & 3. (0 < 3) -> Swap -> {2, 5, 1, 3, 0}\n\nFinal Output: 2 5 1 3 0", diagramType: "none" },
            { id: 4, question: (<span>What is the output of the following code? <br /><img src="Screenshot%202025-12-09%20220530.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["0000000000", "1111", "0000", "11111111111111111", "compilation error", "00"], answer: 2, explanation: "1. The array 'x' is declared as int x[4] = {1, 2}. This initializes x[0]=1, x[1]=2. In C++, remaining elements of a partially initialized array are set to 0. So x[2]=0 and x[3]=0.\n2. The function argument uses sizeof(x)/sizeof(int). sizeof(x) is 16 bytes (4 ints * 4 bytes). sizeof(int) is 4 bytes. 16/4 = 4. So b = 4.\n3. The loop runs 4 times (implied by the explanation context).\n4. It prints the element at index 2 (x[2]), which is 0.\n5. Result: 0000.", diagramType: "none" },
            { id: 5, question: (<span>What does the following program do? <br /><img src="Screenshot%202025-12-09%20221325.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["only prints a message showing the result", "computes n^3", "computes n+(n+1)+(n+2)", "program will return a compilation error", "0", "computes 3^n"], answer: 1, explanation: "The function doo(x, y) initializes 'result' to 1. The loop runs 'y' times, and in each iteration, it multiplies 'result' by 'x'. This is the mathematical definition of exponentiation: x * x * ... (y times) = x^y. Therefore, with inputs n and 3, it computes n^3.", diagramType: "none" },
            { id: 6, question: "Assuming string year = \"1997\", which of the following is a correct syntax to get the int value of the year?", options: ["atoi((char[])year);", "atoi(year.c_array());", "atoi(year.to_c_arr());", "atoi(year.c_str());"], answer: 3, explanation: "The function 'atoi' (ASCII to Integer) requires a C-style string (a null-terminated character array) as an argument. The standard C++ string class provides the .c_str() method to return a pointer to a read-only C-style string array, which is compatible with atoi.", diagramType: "none" },
            { id: 7, question: (<span>What is the output of the following code? <br /><img src="Screenshot 2025-12-09 225433.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["ssssssssss", "ss", "compilation error", "sssss"], answer: 1, explanation: "This function prints a character 2 times. The confusion arises from the variable 'y'. There is a global 'y' (equals 10) and a local 'y' inside main (equals 5). The function is defined outside of main, so it does not see the local 'y'. It uses the global 'y' (10). The logic inside the function (likely dividing by 5) results in 2 iterations, printing 'ss'.", diagramType: "none" },
            { id: 8, question: (<span>What is the output of the following code? <br /><img src="Screenshot 2025-12-09 230116.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["123400", "123400- where(- represents an undefined number)", "1234000", "123--- where(- represents an undefined number)"], answer: 1, explanation: "1. The array size 'n' is calculated as 6. The array is initialized as {1, 2, 3, 4, 0, 0} (zeros fill the remaining space).\n2. The loop condition is 'i <= n' (i <= 6). This is an Off-by-One error. Valid indices are 0 to 5.\n3. The loop prints indices 0-5 correctly: '123400'.\n4. It then iterates one last time for i=6. Accessing arr[6] is out of bounds, resulting in undefined behavior (printing a garbage value).", diagramType: "none" },
            { id: 9, question: (<span>What is the output of the following code? <br /><img src="Screenshot 2025-12-09 230900.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["vector(2,3)", "2 3", "compilation error", "2,3"], answer: 2, explanation: "In C++, the `<<` operator is not overloaded for `std::vector` by default. You cannot directly pass a vector object to `cout`. You must iterate through the vector (e.g., using a loop) and print each element individually.", diagramType: "none" },
            { id: 10, question: (<span>What is the output of the following code? <br /><img src="Screenshot 2025-12-09 231543.png" alt="C++ Code Snippet" className="max-w-full h-auto mt-4 rounded border border-gray-300 shadow-sm" /></span>), options: ["compilation error", "garbage value", "0", "15", "20"], answer: 1, explanation: "The second argument passed to the function is `sizeof(x)`. Since `x` is an array of 10 integers (4 bytes each), `sizeof(x)` returns 40 (bytes), NOT 10 (elements). The loop iterates 40 times. Accessing indices 10 through 39 is out of bounds, retrieving undefined garbage values from memory.", diagramType: "none" }
        ];

        // 3. QUANTUM PHYSICS DATA (Formatted Cleanly)
        const quantumData = [
            {
                id: 1,
                question: (<span>Suppose that <b>ψ = A(x - x³)</b> presents the wave function for a particle in a certain interval with potential energy U(x).<br/><br/>The kinetic energy of the particle is:</span>),
                options: [
                    (<span>3ℏ² / m(1+x²)</span>),
                    (<span>2ℏ² / m(1-x²)</span>),
                    (<span>2ℏ² / m(1+x²)</span>),
                    (<span>ℏ² / m(1+x²)</span>),
                    (<span>3ℏ² / m(1-x²)</span>)
                ],
                answer: 4, 
                explanation: "We use the Kinetic Energy operator: K = -ℏ²/(2m) * d²/dx². First derivative of (x-x³) is (1-3x²). Second derivative is (-6x). Thus Kψ = -ℏ²/(2m) * (-6xA) = 3ℏ²xA/m. To find Kinetic Energy as a function of position, we divide Kψ by ψ: K(x) = (3ℏ²xA/m) / (Ax(1-x²)) = 3ℏ² / (m(1-x²)).",
                diagramType: "none"
            },
            {
                id: 2,
                question: (<span>A particle has a wave function:<br/><br/> <span className="font-mono bg-gray-100 p-1">w(x) = √(2/a) e<sup>-x/a</sup></span> for x &gt; 0<br/> and 0 for x &lt; 0.<br/><br/>Find the probability that the particle will be found between x=0 and x=a.</span>),
                options: ["0.865", "0.543", "0.139", "1.123", "0.333"],
                answer: 0, 
                explanation: "Probability P = ∫|ψ|² dx from 0 to a. |ψ|² = (2/a)e^(-2x/a). Integral of e^(-kx) is (-1/k)e^(-kx). Here k=2/a. So P = (2/a) * (-a/2) [e^(-2x/a)] from 0 to a. P = - [e^-2 - e^0] = 1 - e^-2. Since e ≈ 2.718, e^-2 ≈ 0.135. P ≈ 1 - 0.135 = 0.865.",
                diagramType: "none"
            },
            {
                id: 3,
                question: "An infinite well contains only one excited particle of 342 eV and its wave function is shown in the next figure. The minimum photon energy could be emitted from this well is?",
                options: ["38 eV", "114 eV", "190 eV", "304 eV", "342 eV"],
                answer: 2, 
                explanation: "The image shows a wave with 2 nodes = one full sine wave however the options strongly suggests that the particle is in n=3 here is why if n=3 corresponds to 342 ev then E3 = 9E1 = 342 meaning E1=38 and so E2= (2^2)*E1 meaning 152 ev so we have 2 possible transitons from E3 to E1 or from E3 to E2 and since the question is asking about least energy which is E3 to E2 equals E3-E2 equals 342-152=190",
                diagramType: "wave-function-n3"
            },
            {
                id: 4,
                question: (<span>In a region of space, a particle with mass m and with zero energy has a time-independent wave function:<br/><br/><span className="font-mono bg-gray-100 p-1">ψ(x) = A x e<sup>-x²/L²</sup></span><br/><br/>Determine the potential energy U(x).</span>),
                options: [
                    (<span>(2ℏ² / mL⁴)(x² - 3L²/2)</span>),
                    (<span>(2ℏ / mL⁴)(x - 3L/2)</span>),
                    (<span>(ℏ² / mL⁴)(x² - L²/2)</span>),
                    (<span>(ℏ / mL⁴)(x² - L²/2)</span>)
                ],
                answer: 0, 
                explanation: "Schrödinger Eq for E=0: -ℏ²/(2m)ψ'' + Uψ = 0 -> U = (ℏ²/2m) * (ψ''/ψ). Taking derivatives of ψ = Ax*exp(-x²/L²), we find ψ'' = ψ * (4x²/L⁴ - 6/L²). Substituting this back: U = (ℏ²/2m) * (4x²/L⁴ - 6/L²) = (2ℏ²/mL⁴) * x² - (3ℏ²/mL²). Factoring gives: (2ℏ²/mL⁴)(x² - 3L²/2).",
                diagramType: "none"
            },
            {
                id: 5,
                question: (<span>A particle with mass m is in an infinite square well potential with walls at x = -L/2 and x = L/2. Write the wave functions for the state n = 3.</span>),
                options: [
                    (<span>√(2/L) cos(πx/L)</span>),
                    (<span>-√(2/L) sin(2πx/L)</span>),
                    (<span>-√(2/L) sin(3πx/L)</span>),
                    (<span>-√(2/L) cos(3πx/L)</span>)
                ],
                answer: 3, 
                explanation: "For a symmetric well (-L/2 to L/2), states alternate between Cosine (n=1,3,5...) and Sine (n=2,4,6...). For n=3, it must be a Cosine function with argument (3πx/L). It must vanish at boundaries x=±L/2. cos(3π(L/2)/L) = cos(3π/2) = 0. This matches. Option C uses Sine which would be ±1 at boundaries, not 0.",
                diagramType: "none"
            }
        ];

        // 4. MATH / DE EXAM DATA (NEW)
        const fall2022Data = [
            {
                id: 1,
                question: (<span>Solve the following integration: <br/><br/> <span className="font-mono bg-gray-100 p-2">∫ from 0 to ∞ of (cos t - cos 3t) / (t e^t) dt</span></span>),
                options: [
                    (<span>(1/2) ln 3</span>),
                    (<span>(1/2) ln 5</span>),
                    (<span>ln 5</span>),
                    (<span>0</span>)
                ],
                answer: 1,
                explanation: (<span>Using Laplace properties: ∫ from 0 to ∞ of (f(t)/t) e^-st dt = ∫ from s to ∞ F(u) du.<br/>Here s=1. F(u) = L(cos t - cos 3t) = u/(u²+1) - u/(u²+9).<br/>Integral becomes (1/2)[ln(u²+1) - ln(u²+9)] evaluated from 1 to ∞.<br/>= (1/2) ln((u²+1)/(u²+9)). Limit at ∞ is ln(1)=0.<br/>Value at 1 is (1/2)ln(2/10) = (1/2)ln(1/5) = -(1/2)ln 5.<br/>Result = 0 - (-(1/2)ln 5) = (1/2)ln 5.</span>),
                diagramType: "none"
            },
            {
                id: 2,
                question: (<span>If the solution of y'' + cy = sinh(ax) + e^(bx) is<br/> y = c₁e^(2x) + c₂e^(-2x) + (x/d)cosh(ax) + (1/5)e^(bx)<br/><br/>Find a, b, c, d. (Given a, b > 0)</span>),
                options: [
                    "a=1, b=2, c=4, d=2",
                    "a=2, b=3, c=-4, d=4",
                    "a=3, b=3, c=-4, d=5",
                    "a=2, b=2, c=4, d=4"
                ],
                answer: 1,
                explanation: (<span>1. Homogeneous solution c₁e^(2x) + c₂e^(-2x) implies roots ±2. Char eq: r² - 4 = 0. So DE is y'' - 4y = ... Thus c = -4.<br/>2. Particular solution term (x/d)cosh(ax) implies resonance with sinh(ax). This happens if 'a' matches a root. Roots are 2. So a = 2.<br/>3. Plug (1/5)e^(bx) into y'' - 4y = e^(bx): (1/5)(b² - 4)e^(bx) = e^(bx) => b² - 4 = 5 => b² = 9 => b = 3.<br/>4. Plug x/d cosh(2x) into y'' - 4y = sinh(2x). After simplifying, we get (4/d)sinh(2x) = sinh(2x). So d = 4.</span>),
                diagramType: "none"
            },
            {
                id: 3,
                question: (<span>Find the Inverse Laplace Transform of: <br/><br/><span className="font-mono bg-gray-100 p-1">F(s) = s / (s² + 9)²</span></span>),
                options: [
                    (<span>(t/6) sin 3t</span>),
                    (<span>(t/3) sin 3t</span>),
                    (<span>t sin 3t</span>),
                    (<span>(1/6) sin 3t</span>)
                ],
                answer: 0,
                explanation: "Using the property L^-1 [ s/(s²+a²)² ] = (t/2a) sin(at). Here a=3. So, (t/(2*3)) sin 3t = (t/6) sin 3t.",
                diagramType: "none"
            },
            {
                id: 4,
                question: (<span>Find the Inverse Laplace Transform of: <br/><br/><span className="font-mono bg-gray-100 p-1">F(s) = (3s + 6) / ((s - 4)(s² - 2s + 10))</span></span>),
                options: [
                    (<span>e^(4t) + e^t cos 3t</span>),
                    (<span>e^(4t) - e^t cos 3t</span>),
                    (<span>e^(4t) + e^t sin 3t</span>),
                    (<span>e^t - e^(4t) cos 3t</span>)
                ],
                answer: 1,
                explanation: "Partial fractions decomposition gives A/(s-4) + (Bs+C)/(s²-2s+10). Solving for constants yields A=1, B=-1, C=1. This simplifies to 1/(s-4) - (s-1)/((s-1)²+9). The inverse is e^(4t) - e^t cos 3t.",
                diagramType: "none"
            },
            {
                id: 5,
                question: (<span>Solve the integral equation: <br/><br/><span className="font-mono bg-gray-100 p-1">x(t) - ∫[0 to t] e^(t-u) x(u) du = 2</span></span>),
                options: [
                    (<span>1 - e^(2t)</span>),
                    (<span>2 + e^t</span>),
                    (<span>2e^t cosh t</span>),
                    (<span>e^(2t)</span>)
                ],
                answer: 2,
                explanation: (<span>Apply Laplace Transform: X(s) - X(s)/(s-1) = 2/s.<br/>Factor out X(s): X(s) [ (s-2)/(s-1) ] = 2/s.<br/>So X(s) = (2(s-1)) / (s(s-2)).<br/>Solving by completing the square of the denominator:<br/>Denominator s(s-2) = s² - 2s. Complete square: (s-1)² - 1.<br/>X(s) = 2(s-1) / ((s-1)² - 1).<br/>This matches the form 2 * (s-a)/((s-a)² - k²) where a=1, k=1.<br/>Inverse Laplace of s/(s²-1) is cosh t.<br/>Using the shifting theorem L⁻¹[F(s-a)] = e^(at)f(t), we get x(t) = 2e^t cosh t.</span>),
                diagramType: "none"
            },
            {
                id: 6,
                question: (<span>Find the impulse response h(t) of a control system where: <br/>Input x(t) = sin t <br/>Output y(t) = t sin t</span>),
                options: [
                    (<span>2 cos t</span>),
                    (<span>2 sin t</span>),
                    (<span>t cos t</span>),
                    (<span>sin t</span>)
                ],
                answer: 0,
                explanation: (<span>H(s) = Y(s)/X(s).<br/>L(sin t) = 1/(s²+1).<br/>L(t sin t) = -d/ds(1/(s²+1)) = 2s/(s²+1)².<br/>H(s) = [2s/(s²+1)²] / [1/(s²+1)] = 2s/(s²+1).<br/>h(t) = L⁻¹[2s/(s²+1)] = 2 cos t.</span>),
                diagramType: "none"
            },
            {
                id: 7,
                question: (<span>Consider the differential equation y' = -2y + 4e^(-x) with y(0)=2.<br/>Find the exact solution y(x) and calculate y(0.2).</span>),
                options: [
                    "y(0.2) ≈ 2.155",
                    "y(0.2) ≈ 1.934",
                    "y(0.2) ≈ 1.876",
                    "y(0.2) ≈ 2.000"
                ],
                answer: 1,
                explanation: (<span>Linear DE: y' + 2y = 4e^(-x). Integrating factor = e^(2x).<br/>d(y e^(2x)) = 4e^x dx => y e^(2x) = 4e^x + C.<br/>y = 4e^(-x) + Ce^(-2x).<br/>y(0)=2 => 4+C=2 => C=-2.<br/>Exact solution: y = 4e^(-x) - 2e^(-2x).<br/>y(0.2) = 4(0.8187) - 2(0.6703) = 3.2748 - 1.3406 = 1.9342.</span>),
                diagramType: "none"
            },
            {
                id: 8,
                question: (<span>For the DE y' = -2y + 4e^(-x), y(0)=2.<br/>Use Euler's method with step size h=0.1 to estimate y(0.2).</span>),
                options: [
                    "1.962",
                    "1.934",
                    "2.000",
                    "1.855"
                ],
                answer: 0,
                explanation: (<span>y_new = y_old + h * f(x, y).<br/>Step 1 (x=0): y(0.1) ≈ 2 + 0.1(-2(2) + 4(1)) = 2 + 0 = 2.<br/>Step 2 (x=0.1): y(0.2) ≈ 2 + 0.1(-2(2) + 4e^(-0.1)).<br/>4e^(-0.1) ≈ 3.619. f(0.1, 2) = -4 + 3.619 = -0.381.<br/>y(0.2) ≈ 2 + 0.1(-0.381) = 2 - 0.0381 = 1.9619.</span>),
                diagramType: "none"
            }
        ];

        // 5. Fall 2024 Exam Data
        const fall2024Data = [
            {
                id: '1a',
                question: (<span>Solve the differential equation: <br/><br/> <span className="font-mono bg-gray-100 p-2">y'' + (1/x)y' + (4/x²)y = 1 / (x² cos(ln x²))</span></span>),
                options: [
                   (<span>y(x) = c₁cos(2ln x) + c₂sin(2ln x) + (1/4)cos(2ln x)ln|cos(2ln x)| + (1/2)ln x sin(2ln x)</span>),
                   (<span>y(x) = c₁cos(ln x) + c₂sin(ln x) + ln x</span>),
                   (<span>y(x) = x²(c₁cos(2x) + c₂sin(2x))</span>),
                   (<span>y(x) = c₁x² + c₂x⁻² + x² ln x</span>)
                ],
                answer: 0,
                explanation: (<span>1. Multiply by x²: x²y'' + xy' + 4y = 1/cos(2ln x). This is Cauchy-Euler.<br/>2. Let x = eᵗ. DE becomes y''(t) + 4y(t) = sec(2t).<br/>3. Homogeneous: r² + 4 = 0 => r = ±2i. y_c = c₁cos(2t) + c₂sin(2t).<br/>4. Particular (Variation of Parameters): W = 2. u₁ = -∫(sin 2t sec 2t)/2 = (1/4)ln|cos 2t|. u₂ = ∫(cos 2t sec 2t)/2 = t/2.<br/>5. y_p = (1/4)ln|cos 2t|cos 2t + (t/2)sin 2t.<br/>6. Back sub t = ln x.</span>),
                diagramType: "none"
            },
            {
                id: '1bi',
                question: (<span>Find the Laplace Transform: <br/><br/> <span className="font-mono bg-gray-100 p-2">L{"{e^{2t}sin(t+4)}"}</span></span>),
                options: [
                    (<span>(cos 4 + (s-2)sin 4) / ((s-2)² + 1)</span>),
                    (<span>(s-2) / ((s-2)² + 16)</span>),
                    (<span>e⁻⁴ˢ / (s² + 1)</span>),
                    (<span>(sin 4 + s cos 4) / (s² + 1)</span>)
                ],
                answer: 0,
                explanation: (<span>1. Expand sin(t+4) = sin t cos 4 + cos t sin 4.<br/>2. L{"{sin t}"} = 1/(s²+1), L{"{cos t}"} = s/(s²+1).<br/>3. L{"{sin(t+4)}"} = (cos 4 + s sin 4)/(s²+1).<br/>4. Shift s -> s-2 due to e²ᵗ.<br/>Result: (cos 4 + (s-2)sin 4) / ((s-2)² + 1).</span>),
                diagramType: "none"
            },
            {
                id: '1bii',
                question: (<span>Find the Laplace Transform of f(t) where f(t) = t² for 0 &lt; t ≤ 1, and 0 otherwise.</span>),
                options: [
                    (<span>2/s³ - e⁻ˢ(2/s³ + 2/s² + 1/s)</span>),
                    (<span>2/s³ (1 - e⁻ˢ)</span>),
                    (<span>e⁻ˢ / s²</span>),
                    (<span>(2 - s²e⁻ˢ)/s³</span>)
                ],
                answer: 0,
                explanation: (<span>1. f(t) = t²[u(t) - u(t-1)].<br/>2. L{"{t²u(t)}"} = 2/s³.<br/>3. For t²u(t-1), shift t² to (t-1): t² = (t-1)² + 2(t-1) + 1.<br/>4. L{"{t²u(t-1)}"} = e⁻ˢ L{"{t² + 2t + 1}"} = e⁻ˢ(2/s³ + 2/s² + 1/s).<br/>5. Subtracting gives the result.</span>),
                diagramType: "none"
            },
            {
                id: '2a',
                question: (<span>Solve using Laplace: <br/><br/> <span className="font-mono bg-gray-100 p-2">y' + y = ∫₀ᵗ [t + u(-1 + e^(2(u-t)))] du, y(0)=0</span></span>),
                options: [
                    (<span>y(t) = 1/4 - t/2 + t²/2 - (1/4)e⁻²ᵗ</span>),
                    (<span>y(t) = e⁻ᵗ + t - 1</span>),
                    (<span>y(t) = t²/2</span>),
                    (<span>y(t) = (1/2)e²ᵗ - (1/2)e⁻²ᵗ</span>)
                ],
                answer: 0,
                explanation: (<span>1. RHS is convolution terms. simplifies to t²/2 + (t * e⁻²ᵗ).<br/>2. Laplace: (s+1)Y = 1/s³ + 1/s²(s+2).<br/>3. (s+1)Y = (s+2+s)/(s³(s+2)) = 2(s+1)/(s³(s+2)).<br/>4. Y = 2/(s³(s+2)).<br/>5. Partial fractions: 1/4s - 1/2s² + 1/s³ - 1/4(s+2).<br/>6. Inverse L gives: 1/4 - t/2 + t²/2 - (1/4)e⁻²ᵗ.</span>),
                diagramType: "none"
            },
            {
                id: '2bi',
                question: (<span>Solve: y'' + 4y' + 4y = e⁻²ˣ</span>),
                options: [
                    (<span>y = c₁e⁻²ˣ + c₂xe⁻²ˣ + (1/2)x²e⁻²ˣ</span>),
                    (<span>y = c₁e⁻²ˣ + c₂e²ˣ</span>),
                    (<span>y = (c₁ + c₂x)e⁻²ˣ + x³e⁻²ˣ</span>),
                    (<span>y = c₁e⁻²ˣ + c₂xe⁻²ˣ + e⁻²ˣ</span>)
                ],
                answer: 0,
                explanation: (<span>1. Homogeneous: (r+2)²=0 => roots -2, -2. y_c = (c₁ + c₂x)e⁻²ˣ.<br/>2. RHS e⁻²ˣ matches roots twice. Multiply guess by x².<br/>3. y_p = Ax²e⁻²ˣ. Substitute into ODE.<br/>4. Solving gives 2A = 1 => A = 1/2.<br/>5. Total y = y_c + 0.5x²e⁻²ˣ.</span>),
                diagramType: "none"
            },
            {
                id: '2bii',
                question: (<span>Solve: y'' = y' ( (yy' + (y')²) / y² )</span>),
                options: [
                    (<span>(ln|y| + C₁)² = C₃ - 2x</span>),
                    (<span>y = C₁eˣ + C₂</span>),
                    (<span>y² = x + C</span>),
                    (<span>ln y = x² + C</span>)
                ],
                answer: 0,
                explanation: (<span>1. Simplify: y'' = (y')²/y + (y')³/y².<br/>2. Let y' = p. y'' = p(dp/dy).<br/>3. p(dp/dy) = p²/y + p³/y². Divide by p: dp/dy = p/y + (p/y)².<br/>4. Homogeneous 1st order. Let p = vy. Solve for v.<br/>5. Result leads to integral of form dy/y = ... yielding the log squared form.</span>),
                diagramType: "none"
            },
            {
                id: '3a',
                question: (<span>For y' + y tan x = sec x, y(0)=1. Calculate y(0.5) using Runge-Kutta (RK4) with h=0.5.</span>),
                options: [
                    "1.3571",
                    "1.4285",
                    "1.5000",
                    "1.2500"
                ],
                answer: 0,
                explanation: (<span>k₁ = 0.5(1) = 0.5.<br/>k₂ = 0.5 * f(0.25, 1.25) = 0.3569.<br/>k₃ = 0.5 * f(0.25, 1.1785) = 0.3660.<br/>k₄ = 0.5 * f(0.5, 1.366) = 0.1967.<br/>y₁ = 1 + (1/6)(0.5 + 2(0.3569) + 2(0.3660) + 0.1967) ≈ 1.3571.</span>),
                diagramType: "none"
            },
            {
                id: '3b',
                question: (<span>Find the Inverse Laplace Transform of: (s+1) / (s² + 2s + 4)²</span>),
                options: [
                    (<span>(t e⁻ᵗ sin(√3t)) / (2√3)</span>),
                    (<span>e⁻ᵗ cos(√3t)</span>),
                    (<span>t e⁻ᵗ cos(√3t)</span>),
                    (<span>(e⁻ᵗ sin(√3t)) / √3</span>)
                ],
                answer: 0,
                explanation: (<span>1. Complete square: (s+1)/((s+1)² + 3)².<br/>2. Shift s->s-1: e⁻ᵗ L⁻¹[s/(s²+3)²].<br/>3. Use property L[-t f(t)] = F'(s). F(s) = 1/(s²+3). F'(s) = -2s/(s²+3)².<br/>4. s/(s²+3)² = (-1/2) * derivative.<br/>5. Inverse is (-1/2)(-t sin(√3t)/√3) = (t sin(√3t))/(2√3).<br/>6. Add shift e⁻ᵗ.</span>),
                diagramType: "none"
            },
            {
                id: '3c',
                question: (<span>Solve: d/dx(∫₀ˣ y'(u)du) - ∫₀ˣ y(u)du = ∫₂ᵉˣ 1/(u²+u) du</span>),
                options: [
                    (<span>y(x) = c₁eˣ + c₂e⁻ˣ + (eˣ/2)(x - ln(eˣ+1)) - (e⁻ˣ/2)ln(eˣ+1)</span>),
                    (<span>y(x) = c₁eˣ + c₂e⁻ˣ</span>),
                    (<span>y(x) = eˣ sin x</span>),
                    (<span>y(x) = x² + eˣ</span>)
                ],
                answer: 0,
                explanation: (<span>1. Simplify LHS: y'(x) - ∫y du. Differentiate w.r.t x: y''(x) - y(x) = d/dx(RHS).<br/>2. RHS derivative (Leibniz): 1/((eˣ)²+eˣ) * eˣ = 1/(eˣ+1).<br/>3. ODE: y'' - y = 1/(eˣ+1).<br/>4. Homogeneous: y_c = c₁eˣ + c₂e⁻ˣ.<br/>5. Var of Params with Wronskian leads to particular solution with logs.</span>),
                diagramType: "none"
            }
        ];

        // 6. ELECTROMAGNETIC FIELDS DATA
        const emFieldsData = [
            {
                id: 1,
                question: "The voltage reference is at r=15 mm in spherical coordinates and the voltage is at r=250 mm. Given E = -334.7 a_r V/m at r=110 mm, the value of v_o is:",
                options: ["243 V", "250 V", "234 V", "254 V"],
                answer: 3,
                explanation: `**Finding Vo via Laplace's Equation (Spherical Coordinates)**

**1. The Governing Equation**
Since we assume no charge in the dielectric space between $r = 15 \\text{ mm}$ and $r = 250 \\text{ mm}$, Laplace's equation for a radial-only field is:
$$\\nabla^2 V = \\frac{1}{r^2} \\frac{d}{dr} \\left( r^2 \\frac{dV}{dr} \\right) = 0$$

**2. Finding the General Solution**
* **First Integration:** $r^2 \\frac{dV}{dr} = A$ (constant).
* **Rearranging:** $\\frac{dV}{dr} = \\frac{A}{r^2}$
* **Second Integration:** $V(r) = -\\frac{A}{r} + B$

**3. Relating to Electric Field Intensity (E)**
Using $\\mathbf{E} = -\\nabla V$, the radial field component is:
$$E_r = -\\frac{dV}{dr} = -\\frac{A}{r^2}$$
Given $\\mathbf{E} = -334.7 \\text{ V/m}$ at $r = 110 \\text{ mm}$ ($0.11 \\text{ m}$):
$$-334.7 = -\\frac{A}{(0.11)^2} \\implies A = 334.7 \\times 0.0121 \\approx 4.05$$

**4. Applying Boundary Conditions**
* **Condition 1:** $V = 0 \\text{ V}$ at $r = 15 \\text{ mm}$ ($0.015 \\text{ m}$):
    $$0 = -\\frac{4.05}{0.015} + B \\implies B = 270$$
* **Condition 2:** Find $V_o$ at $r = 250 \\text{ mm}$ ($0.25 \\text{ m}$):
    $$V_o = -\\frac{4.05}{0.25} + 270 = -16.2 + 270 = 253.8 \\text{ V}$$

**Result:** The potential $V_o$ is approximately **254 V**.`,
                diagramType: "none"
            },
            {
                id: 2,
                question: "Two parallel conductors A and B placed 100 mm apart in air. Conductor A carries 100 A in one direction while conductor B carries a current 60 A in the other direction. The magnitude of magnetic strength in A/m at point C, which is 60 mm from conductor A and 40 mm from conductor B, is:",
                options: ["504", "405", "450", "540"],
                answer: 0,
                explanation: `**Scenario:** Two conductors 100mm apart with opposing currents (100A, 60A).
**Goal:** Find magnitude of H at point C (60mm from A, 40mm from B).
**Logic:** Point C lies on the line between them. Opposing currents create H-fields that point in the same direction in this region, so they add up.
**Calculation:**
$$H_A = \\frac{I_A}{2\\pi r_A} = \\frac{100}{2\\pi(0.06)} \\approx 265.26 \\text{ A/m}$$
$$H_B = \\frac{I_B}{2\\pi r_B} = \\frac{60}{2\\pi(0.04)} \\approx 238.73 \\text{ A/m}$$
$$H_{total} = 265.26 + 238.73 \\approx 504 \\text{ A/m}$$
**Result:** 504 A/m`,
                diagramType: "none"
            },
            {
                id: 3,
                question: "A hollow cylindrical shell of radius a is centered on the z axis and carries uniform surface current density K_S a_phi. The magnetic field strength in A/m at the origin is:",
                options: ["0.5 K_S a_z", "K_S a_z", "0.5 K_S a_rho", "K_S a_rho"],
                answer: 1,
                explanation: `**Scenario:** A cylindrical shell with uniform surface current around the perimeter (azimuthal).
**Logic:** This setup is identical to an infinite solenoid.
**Result:** The field inside is uniform and follows the axis of the cylinder. 
$$H = K_s \\mathbf{a}_z$$`,
                diagramType: "none"
            },
            {
                id: 4,
                question: "Plane Z=0 carry current of K = -10 a_x A/m and Plane Z=4m carry current of K=10 a_x A/m. The magnetic field strength in A/m at P(0,-3,10) is:",
                options: ["-20", "-10", "10", "0"],
                answer: 3,
                explanation: `**Scenario:** Two current sheets at z=0 and z=4. Point P is at z=10 (above both).
**Logic:** Use the right-hand rule for current sheets. 
* Plane 1 (z=0): $H_1 = 0.5(-10\\mathbf{a}_x \\times \\mathbf{a}_z) = 5\\mathbf{a}_y$
* Plane 2 (z=4): $H_2 = 0.5(10\\mathbf{a}_x \\times \\mathbf{a}_z) = -5\\mathbf{a}_y$
**Total Field:** $5\\mathbf{a}_y - 5\\mathbf{a}_y = 0$.`,
                diagramType: "none"
            },
            {
                id: 5,
                question: "The z-axis carries filamentary current of 10*pi A along a_z. Which of these is incorrect?",
                options: [
                    "-a_x at (0,5,0)",
                    "a_phi at (5,pi/4,0)",
                    "-0.8a_x - 0.6a_y at (-3,4,0)",
                    "-a_phi at (5, 3pi/2, 0)"
                ],
                answer: 3,
                explanation: `**Goal:** Find the incorrect field statement for a current on the z-axis.
**Calculation:** $H = \\frac{5}{\\rho} \\mathbf{a}_\\phi$.
**Analysis of (d):** At $(5, 3\\pi/2, 0)$, the angle is $270^\\circ$. The $\\mathbf{a}_\\phi$ vector at this point points along the $+x$ axis. The actual field direction is clockwise/counter-clockwise based on current; following the right-hand rule, it should point in the $+\\mathbf{a}_\\phi$ direction. The claim that it points in $-\\mathbf{a}_\\phi$ is incorrect.`,
                diagramType: "none"
            },
            {
                id: 6,
                question: "Two conducting concentric cylinders (Coaxial Cable), the radius of inner cylinder is 2 cm and has a surface charge density of p1, while the radius of the outer cylinder is 4 cm and has a surface charge density of -10 nC/m^2. Then The Electric flux Density at radius of 3 cm is...... nC/m^2",
                options: ["0", "13.3", "40", "None of the above"],
                answer: 1,
                explanation: `**Coaxial Neutrality Principle:** The inner and outer charge per unit length must be equal and opposite:
$$\\rho_{s1} a = -\\rho_{s2} b$$
**Calculation:** Substituting $b=4 \\text{ cm}$ and $\\rho_{s2} = -10 \\text{ nC/m}^2$:
$$\\rho_{s1} a = 40 \\text{ nC} \\cdot \\text{cm/m}^2$$
**Flux Density at r=3:**
$$D = \\frac{\\rho_{s1} a}{r} = \\frac{40}{3} \\approx 13.33 \\text{ nC/m}^2$$`,
                diagramType: "none"
            },
            {
                id: 7,
                question: "The Electric Field Intensity is required at the point P (0,0,3) m due to a disc located at z=1 m has a uniform charge 10 nC with a radius 2 cm in V/m is:",
                options: ["22.48", "9.99", "44.96", "None of the above"],
                answer: 0,
                explanation: `**Logic:** The disc radius (2cm) is much smaller than the distance (2m). We can treat it as a point charge.
**Calculation:**
$$E = \\frac{kQ}{R^2} = \\frac{(9 \\times 10^9)(10 \\times 10^{-9})}{(3-1)^2} = \\frac{90}{4} = 22.5 \\text{ V/m}$$
Using the exact constant $\\epsilon_0$ yields **22.48 V/m**.`,
                diagramType: "none"
            },
            {
                id: 8,
                question: "The work done to move a 6 C charge from the origin to the point P(3,1,-1) in the field E = 2x a_x - 3y^2 a_y + 4 a_z V/m along the straight line path x=-3z and y=x+2z Is:",
                options: ["-8 J", "-10 J", "-24 J", "None of the above"],
                answer: 2,
                explanation: `**This problem can be solved using two different methods:**

**Method 1: Potential Difference (Scalar Potential)**
1. Check if the field is conservative (curl E = 0). It is.
2. Integrate $\\mathbf{E} = -\\nabla V$ to find $V(x,y,z) = -x^2 + y^3 - 4z$.
3. Evaluate $V$ at the final point $P(3,1,-1)$: $-(3)^2 + (1)^3 - 4(-1) = -4 \\text{ V}$.
4. $Work = Q(V_{final} - V_{initial}) = 6(-4 - 0) = -24 \\text{ J}$.

**Method 2: Line Integration (Work Done by Field)**
1. Parameterize the path with $z$: $x = -3z$, $y = -z$ (since $y=x+2z = -3z+2z$).
2. Evaluate dot product $\\mathbf{E} \\cdot d\\mathbf{l} = (18z + 3z^2 + 4)dz$.
3. Integrate from $z=0$ to $z=-1$: $W_{field} = 6 \\times 4 = 24 \\text{ J}$.
4. External work is the negative of the work done by the field: $W_{ext} = -24 \\text{ J}$.`,
                diagramType: "none"
            },
            {
                id: 9,
                question: "Three point charges each 20 micro C are placed at the corners of an equilateral triangle of side of 0.4m. The energy stored in the system is :",
                options: ["8 J", "27 J", "13 J", "None of the above"],
                answer: 1,
                explanation: `**This problem can be solved using two different methods:**

**Method 1: Pairwise Summation (Standard)**
Total Energy is the sum of potential energy between every unique pair of charges:
$$W_E = \\frac{k q_1 q_2}{R_{12}} + \\frac{k q_1 q_3}{R_{13}} + \\frac{k q_2 q_3}{R_{23}}$$
Since all $q=20 \\mu \\text{C}$ and $R=0.4 \\text{ m}$:
$$W_E = 3 \\times \\frac{(9 \\times 10^9)(20 \\times 10^{-6})^2}{0.4} = 27 \\text{ J}$$

**Method 2: Potential at Each Charge Location**
Using the system energy formula: $W_E = \\frac{1}{2} (q_1 V_1 + q_2 V_2 + q_3 V_3)$.
1. Calculate $V_1$ (potential at corner 1 due to others): $V_1 = \\frac{2kq}{R} = 900,000 \\text{ V}$.
2. Substitute into formula: $W_E = \\frac{1}{2} \\times 3 \\times (20 \\times 10^{-6} \\text{ C}) \\times (900,000 \\text{ V}) = 27 \\text{ J}$.`,
                diagramType: "none"
            },
            {
                id: 10,
                question: "A small Isolated conducting sphere of radius (a=1cm) is charged with 2 nC. Surrounding this sphere... shell (b=2cm, c=3cm). Max absolute potential in region a<r<c Is:",
                options: ["1000 V", "900 V", "1499 V", "None of the above"],
                answer: 2,
                explanation: `**This problem can be solved using two different methods:**

**Method 1: Superposition Formula**
Calculate the potential at the surface of the inner sphere ($r=a$) by summing the contributions of the three charged surfaces:
$$V_a = \\frac{Q}{4\\pi\\epsilon_0} \\left( \\frac{1}{a} - \\frac{1}{b} + \\frac{1}{c} \\right)$$
$$V_a = (9 \\times 10^9 \\times 2 \\times 10^{-9}) \\left( \\frac{1}{0.01} - \\frac{1}{0.02} + \\frac{1}{0.03} \\right)$$
$$V_a = 18(100 - 50 + 33.33) \\approx 1499.9 \\text{ V}$$

**Method 2: Step-by-Step Integration (from $\\infty$ to $a$)**
1. From Infinity to Outer Shell ($r=c$): $V_c = \\frac{kQ}{c} = 600 \\text{ V}$.
2. Through the shell ($c$ to $b$): Field is 0, so $V_b = V_c = 600 \\text{ V}$.
3. Potential Rise from Shell to Sphere ($b$ to $a$): $\\Delta V = kQ \\left( \\frac{1}{a} - \\frac{1}{b} \\right) = 900 \\text{ V}$.
4. Total potential at surface: $V_a = 600 + 900 = 1500 \\text{ V}$.`,
                diagramType: "none"
            },
            {
                id: 11,
                question: "Given the potential field in spherical coordinates $V=80~r^{2}$ volts. Assuming free space conditions. Then the volume charge density in $\\text{nC/m}^3$ is:",
                options: ["-12.1", "-4.89", "-43.3", "-1.79"],
                answer: 1,
                explanation: `**1. The Physics Principle**
We use Poisson's Equation: $\\nabla^2 V = -\\frac{\\rho_v}{\\epsilon_0}$.

**2. Calculating the Laplacian ($\\nabla^2 V$)**
In spherical coordinates, for $V$ depending only on $r$:
$$\\nabla^2 V = \\frac{1}{r^2} \\frac{\\partial}{\\partial r} \\left( r^2 \\frac{\\partial V}{\\partial r} \\right)$$
Substituting $V = 80 r^2$:
$\\frac{\\partial V}{\\partial r} = 160 r$
$\\nabla^2 V = \\frac{1}{r^2} \\frac{\\partial}{\\partial r} (r^2 \\cdot 160 r) = \\frac{1}{r^2} \\frac{\\partial}{\\partial r} (160 r^3) = \\frac{1}{r^2} (480 r^2) = 480$

**3. Solving for $\\rho_v$**
$\\rho_v = -\\epsilon_0 (\\nabla^2 V) = -(8.854 \\times 10^{-12}) \\times 480$
$\\rho_v \\approx -4.25 \\times 10^{-9} \\text{ C/m}^3 = -4.25 \\text{ nC/m}^3$

*Note: This result is closest to option B (-4.89). Discrepancies may arise from the specific constants used in the exam.*`,
                diagramType: "none"
            },
            {
                id: 12,
                question: "Two sheets having surface charge density of $+\\rho_s$ and $-\\rho_s$ are kept parallel to each other at a small separation distance $d$. The electric field Intensity at any point between the sheets is:",
                options: ["ρs/ε", "ρs/2ε", "2ρs/ε", "0"],
                answer: 0,
                explanation: `**1. Field from a Single Sheet**
The electric field from one infinite sheet is $E = \\frac{\\rho_s}{2\\epsilon}$.

**2. Directional Analysis**
Between the plates, the field from the positive sheet points away from it (toward the negative sheet). The field from the negative sheet points toward itself (away from the positive sheet). Both vectors point in the same direction.

**3. Superposition**
$$E_{total} = E_+ + E_- = \\frac{\\rho_s}{2\\epsilon} + \\frac{\\rho_s}{2\\epsilon} = \\frac{\\rho_s}{\\epsilon}$$
This is the standard uniform field formula used in parallel plate capacitors.`,
                diagramType: "none"
            },
            {
                id: 13,
                question: "Consider an Infinite sheet of uniform surface charge density $\\rho_s=50~\\mu\\text{C/m}^2$ located at $z=0$ plane. Then the magnitude of the electric flux crossing a circular disc at $z=8$ plane centered at $(0,0,8)$ with a radius of $6 \\text{ m}$ is:",
                options: ["2.8 mC", "5.3 mC", "12.4 mC", "None of the above"],
                answer: 0,
                explanation: `**1. Determine Flux Density (D)**
For an infinite sheet, the flux density is constant and independent of distance:
$$D_z = \\frac{\\rho_s}{2} = \\frac{50 \\mu\\text{C}}{2} = 25 \\mu\\text{C/m}^2$$

**2. Calculate the Area (A)**
The area of the circular disc is:
$$A = \\pi r^2 = \\pi (6)^2 = 36\\pi \\text{ m}^2$$

**3. Calculate Total Flux (Ψ)**
Since the field is normal to the disc:
$$\\Psi = D \\times A = (25 \\mu\\text{C/m}^2) \\times (36\\pi \\text{ m}^2)$$
$$\\Psi = 900\\pi \\mu\\text{C} \\approx 2827 \\mu\\text{C} = 2.827 \\text{ mC}$$`,
                diagramType: "none"
            },
            {
                id: 14,
                question: "For the charge configuration shown in Fig. 1. The potential at the point $P(0,0,6)$ due to the shown charge configuration is:",
                image: "Screenshot%202025-12-18%20002520.png",
                options: ["4.2 V", "6.93 V", "13.24 V", "None of the above"],
                answer: 2,
                explanation: `**Step-by-Step Solution**

**1. Geometry & Angles**
From the figure, calculate the active span ($\\Delta\\phi$):
Gap from Y-axis: $20^\\circ$, Gap from X-axis: $10^\\circ$.
$$\\Delta\\phi = 90^\\circ - 20^\\circ - 10^\\circ = 60^\\circ = \\frac{\\pi}{3} \\text{ rad}$$

**2. Potential from Line Arc ($V_{arc}$)**
Radius $r=3 \\text{ m}$, $\\rho_L = 1.5 \\text{ nC/m}$. Point $P$ is at $z=6$.
Distance $R = \\sqrt{3^2 + 6^2} = \\sqrt{45} \\approx 6.708 \\text{ m}$.
Charge $Q_{arc} = \\rho_L \\cdot r \\cdot \\Delta\\phi = 1.5 \\cdot 3 \\cdot \\frac{\\pi}{3} = 1.5\\pi \\text{ nC} \\approx 4.71 \\text{ nC}$.
$$V_{arc} = \\frac{k Q_{arc}}{R} = \\frac{9 \\times 4.71}{6.708} \\approx 6.32 \\text{ V}$$

**3. Potential from Surface Sector ($V_{surf}$)**
$\\rho_s = 1 \\text{ nC/m}^2$. Radii: $1.6$ to $3.5$.
Radial Integral: $\\int_{1.6}^{3.5} \\frac{r dr}{\\sqrt{r^2+36}} = [\\sqrt{r^2+36}]_{1.6}^{3.5} = 6.946 - 6.209 = 0.737$.
$$V_{surf} = (k \\rho_s \\Delta\\phi) \\times 0.737 = (9 \\times 1 \\times \\frac{\\pi}{3}) \\times 0.737 \\approx 6.95 \\text{ V}$$

**4. Total Potential**
$$V_{total} = V_{arc} + V_{surf} = 6.32 + 6.95 = 13.27 \\text{ V}$$
*(Matches Option C)*`,
                diagramType: "none"
            },
            {
                id: 16,
                question: "Uniform dielectric medium $(\\epsilon_{r1}=2.5)$ fills region 1 $(x < 0)$, while region 2 $(x > 0)$ is free space. If $|E_2|=12~\\text{V/m}$ and $\\theta_2=60^\\circ$, the value of $\\theta_1$ is:",
                options: ["74°", "47°", "77°", "41°"],
                answer: 2,
                explanation: `**1. Refraction at Interface**
The interface is at $x=0$. Boundary conditions for electric fields give us the Law of Refraction:
$$\\frac{\\tan \\theta_1}{\\tan \\theta_2} = \\frac{\\epsilon_{r1}}{\\epsilon_{r2}}$$

**2. Substitute Values**
Given: $\\epsilon_{r1} = 2.5$, $\\epsilon_{r2} = 1.0$ (free space), $\\theta_2 = 60^\\circ$.
$$\\tan \\theta_1 = \\frac{2.5}{1.0} \\tan(60^\\circ) = 2.5 \\times 1.732 = 4.33$$

**3. Calculate Angle**
$$\\theta_1 = \\tan^{-1}(4.33) \\approx 77^\\circ$$`,
                diagramType: "none"
            },
            {
                id: 17,
                question: "Coaxial cylinders $(a=2~\\text{cm}, b=5~\\text{cm}, L=100~\\text{m})$ have two dielectric regions. Region 1 is $\\epsilon_{r1}=2.0$. The cylinders are connected to a $6.6 \\text{ kV}$ source. The induced surface charge density in $\\mu\\text{C/m}^2$ in Region 1 is:",
                options: ["6.377", "3.677", "5.102", "2.501"],
                answer: 0,
                explanation: `**1. Find Electric Field at Surface (r = a)**
The field in a coaxial arrangement is:
$$E(a) = \\frac{V}{a \\ln(b/a)} = \\frac{6600}{0.02 \\cdot \\ln(5/2)} \\approx 360,144 \\text{ V/m}$$

**2. Calculate Flux Density (D)**
In Region 1, the flux density is proportional to the permittivity:
$$D_1 = \\epsilon_0 \\epsilon_{r1} E(a) = (8.854 \\times 10^{-12}) \\times 2.0 \\times 360,144$$
$$D_1 \\approx 6.377 \\times 10^{-6} \\text{ C/m}^2$$

**3. Relate to Charge Density**
By boundary conditions, the surface charge density $\\rho_s$ is equal to the normal flux density $D_n$ at the conductor surface:
$$\\rho_{s1} = 6.377 \\mu\\text{C/m}^2$$`,
                diagramType: "none"
            },
            {
                id: 18,
                question: "Isolated sphere $(r=3~\\text{cm}, Q=0.3~\\text{nC})$ inside a neutral shell $(r_{in}=6, r_{out}=7)$. Region I $(3 < r < 6)$ has $\\epsilon_{r1}=4$. The capacitance of the system is:",
                options: ["6.03 pF", "3.06 pF", "3.60 pF", "6.30 pF"],
                answer: 0,
                explanation: `**1. Define System Capacitance**
The system acts as two capacitors in series: the gap between the sphere and the shell ($C_{inner}$) and the outer shell to infinity ($C_{outer}$).
$$\\frac{1}{C_{sys}} = \\frac{1}{C_{inner}} + \\frac{1}{C_{outer}}$$

**2. Calculate Components**
* **Inner Capacitor:** $C_{inner} = \\frac{4\\pi \\epsilon_0 \\epsilon_{r1}}{1/a - 1/b} \\approx 26.7 \\text{ pF}$
* **Outer Sphere:** $C_{outer} = 4\\pi \\epsilon_0 c = 4\\pi \\epsilon_0 (0.07) \\approx 7.79 \\text{ pF}$

**3. Total Capacitance**
$$\\frac{1}{C_{sys}} = \\frac{1}{26.7} + \\frac{1}{7.79} \\implies C_{sys} \\approx 6.03 \\text{ pF}$$`,
                diagramType: "none"
            },
            {
                id: 19,
                question: "Coaxial cylinders $a=2~\\text{cm}, b=6~\\text{cm}$ are at $V=60 \\text{ V}$ and $V=-20 \\text{ V}$. The potential at $\\rho=4 \\text{ cm}$ is:",
                options: ["30.48 V", "9.543 V", "-5.92 V", "-6.7 V"],
                answer: 1,
                explanation: `**1. General Solution**
The potential formula for coaxial symmetry is: $V(\\rho) = A \\ln \\rho + B$.

**2. Apply Boundary Conditions**
(1) $60 = A \\ln(2) + B$
(2) $-20 = A \\ln(6) + B$

**3. Solve for Constants**
Subtract (2) from (1): $80 = A [\\ln(2) - \\ln(6)] = A \\ln(1/3) = -A \\ln 3$.
$A = -80 / \\ln 3 \\approx -72.82$.
$B = 60 - (-72.82) \\ln(2) \\approx 110.46$.

**4. Calculate at ρ = 4**
$$V(4) = -72.82 \\ln(4) + 110.46 \\approx 9.543 \\text{ V}$$`,
                diagramType: "none"
            },
            {
                id: 20,
                question: "The electric flux density is $\\mathbf{D} = 8r \\sin(\\phi) \\mathbf{a}_r + 4r \\cos(\\phi) \\mathbf{a}_\\phi \\text{ C/m}^2$. Find the charge enclosed within the cylindrical region $0 \\le r \\le 1.8 \\text{ m}$, $2.4 \\le z \\le 3.1 \\text{ m}$ and $20^\\circ \\le \\phi \\le 70^\\circ$.",
                options: ["1.2 C", "5.9 C", "8.13 C", "None of the above"],
                answer: 2,
                explanation: `**Step 1: Apply Gauss's Law / Divergence Theorem**
The enclosed charge is given by $Q = \\iiint (\\nabla \\cdot \\mathbf{D}) dv$.

**Step 2: Find Divergence in Cylindrical Coordinates**
$$\\nabla \\cdot \\mathbf{D} = \\frac{1}{r} \\frac{\\partial}{\\partial r} (r D_r) + \\frac{1}{r} \\frac{\\partial D_\\phi}{\\partial \\phi}$$
* **Term 1:** $\\frac{1}{r} \\frac{\\partial}{\\partial r} (8r^2 \\sin\\phi) = \\frac{1}{r} (16r \\sin\\phi) = 16 \\sin\\phi$
* **Term 2:** $\\frac{1}{r} \\frac{\\partial}{\\partial \\phi} (4r \\cos\\phi) = \\frac{1}{r} (-4r \\sin\\phi) = -4 \\sin\\phi$
**Total Divergence:** $16 \\sin\\phi - 4 \\sin\\phi = 12 \\sin\\phi$.

**Step 3: Integrate over the volume**
$$Q = \\int_{2.4}^{3.1} dz \\int_{20^\\circ}^{70^\\circ} d\\phi \\int_{0}^{1.8} (12 \\sin\\phi) r dr$$
* **z-integral:** $3.1 - 2.4 = 0.7$
* **r-integral:** $[\\frac{r^2}{2}]_0^{1.8} = 1.62$
* **$\phi$-integral:** $12 [-\\cos\\phi]_{20^\\circ}^{70^\\circ} = 12 (\\cos 20^\\circ - \\cos 70^\\circ) \\approx 12 (0.94 - 0.34) = 7.2$

**Step 4: Multiply results**
$$Q = 0.7 \\times 1.62 \\times 7.2 \\approx 8.16 \\text{ C}$$
(Matches option c)`,
                diagramType: "none"
            }
        ];

        // --- APP COMPONENT ---

        function App() {
            // New state for Subject Selection
            const [activeSubject, setActiveSubject] = useState(null); // 'logic' or 'programming' or 'quantum' or 'math' or 'emFields'
            const [mode, setMode] = useState('welcome');
            const [currentQuizChunk, setCurrentQuizChunk] = useState(0);
            const [quizState, setQuizState] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [pdfFile, setPdfFile] = useState(null);
            const [selectedExam, setSelectedExam] = useState(null); // 'fall2022', 'fall2024', or 'standard'
            
            // New state for sub-navigation
            // 'menu', 'study_selection', 'quiz_selection', 'assignments', 'exams'
            const [subSection, setSubSection] = useState(null); 
            
            useEffect(() => {
                if (window.MathJax) {
                    window.MathJax.typesetPromise && window.MathJax.typesetPromise();
                }
            });

            // Determine which dataset to use
            let currentData = [];
            if (activeSubject === 'logic') currentData = logicData;
            if (activeSubject === 'programming') currentData = programmingData;
            if (activeSubject === 'quantum') currentData = quantumData;
            if (activeSubject === 'emFields') currentData = emFieldsData;
            if (activeSubject === 'math') {
                if (selectedExam === 'fall2024') {
                    currentData = fall2024Data;
                } else {
                    currentData = fall2022Data; // Default to Fall 2022 (mathData)
                }
            } else {
                // For non-math subjects, we effectively have one "exam" which is the standard set
                // logicData, programmingData, quantumData, emFieldsData are already set above
            }

            // Adjust chunk size for math since it has fewer questions for now
            const CHUNK_SIZE = activeSubject === 'math' ? 10 : 6; 
            
            const chunks = [];
            if (currentData.length > 0) {
                if (activeSubject === 'logic') {
                    // Special chunking for Logic: 3 sets of 6, last set of 7 (Total 25)
                    chunks.push(currentData.slice(0, 6));
                    chunks.push(currentData.slice(6, 12));
                    chunks.push(currentData.slice(12, 18));
                    chunks.push(currentData.slice(18));
                } else {
                    // Standard chunking for other subjects (All in one chunk for exams/others)
                    chunks.push(currentData);
                }
            }

            const handleStartQuiz = () => {
                setMode('quiz');
                setCurrentQuizChunk(0);
                setQuizState({});
                setShowResults(false);
            };

            const handleExamStart = (examId) => {
                setSelectedExam(examId);
                // Keep context if needed, but going to quiz/study mode directly
                if(subSection === 'quiz_selection') {
                    setMode('quiz');
                } else {
                    setMode('study');
                }
                setCurrentQuizChunk(0);
                setQuizState({});
                setShowResults(false);
            }

            const handleAnswer = (qId, optionIdx) => {
                setQuizState(prev => ({ ...prev, [qId]: optionIdx }));
            };

            const calculateScore = () => {
                let score = 0;
                // Guard clause if chunks are empty
                if (!chunks || chunks.length === 0) return 0;
                
                const currentQuestions = chunks[currentQuizChunk];
                currentQuestions.forEach(q => {
                    if (quizState[q.id] === q.answer) score++;
                });
                return score;
            };

            const nextChunk = () => {
                if (currentQuizChunk < chunks.length - 1) {
                    setCurrentQuizChunk(prev => prev + 1);
                    setQuizState({});
                    setShowResults(false);
                    window.scrollTo(0,0);
                } else {
                    alert("You've completed all quizzes! Returning to Study Mode.");
                    setMode('study');
                }
            };

            const goHome = () => {
                setActiveSubject(null);
                setMode('welcome');
                setQuizState({});
                setShowResults(false);
                setPdfFile(null);
                setSubSection(null);
                setSelectedExam(null);
            }

            // Helper to get exam list based on subject
            const getExams = (subject) => {
                if (subject === 'math') return [
                    { id: 'fall2022', title: 'Fall 2022 Selected Questions', subtitle: 'Interactive' },
                    { id: 'fall2024', title: 'Fall 2024 Exam', subtitle: 'Interactive' }
                ];
                if (subject === 'emFields') return [
                    { id: 'fall2022', title: 'Fall 2022 Final Exam', subtitle: 'Interactive' }
                ];
                const labels = {
                    logic: 'Digital Logic Standard Set',
                    programming: 'C++ Programming Practice',
                    quantum: 'Quantum Physics Core'
                };
                return [{ id: 'standard', title: labels[subject], subtitle: 'Interactive' }];
            };

            // -- SUBJECT SELECTION SCREEN --
            if (!activeSubject) {
                return (
                    <div className="min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 relative">
                          {/* Floating Feedback Button (Visible on Selection Screen too) */}
                          <a 
                            href="https://docs.google.com/forms/d/e/1FAIpQLSdjFjiMzpR4qAacIY9r2SoqiPgOeTF6uQ1I8JRFudKBWUSY4A/viewform?usp=publish-editor"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="fixed bottom-6 right-6 z-50 bg-gray-900 text-white px-5 py-3 rounded-full shadow-xl border border-gray-700 hover:bg-black hover:scale-105 transition-all flex items-center gap-2 group"
                        >
                            <Icons.Message />
                            <span className="font-semibold">Feedback</span>
                        </a>

                        <div className="text-center mb-10 animate-fadeIn">
                            <h1 className="text-5xl font-extrabold text-indigo-700 mb-4 flex justify-center items-center gap-3">
                                <Icons.Grid /> Study Pulse
                            </h1>
                            <p className="text-xl text-gray-500">Select a subject to enter the room</p>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-7xl animate-fadeIn">
                            {/* Logic Room Card */}
                            <div 
                                onClick={() => { setActiveSubject('logic'); setMode('welcome'); }}
                                className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-2xl hover:border-indigo-200 hover:-translate-y-1 transition-all cursor-pointer group"
                            >
                                <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center text-blue-600 mb-6 group-hover:scale-110 transition-transform">
                                    <Icons.Cpu />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-2">Digital Logic Design</h2>
                                <p className="text-gray-500 text-sm">Decoders, Multiplexers, Logic Gates, and K-Maps.</p>
                                <div className="mt-6 text-blue-600 font-semibold flex items-center gap-2">
                                    Enter Room <Icons.ArrowRight />
                                </div>
                            </div>

                            {/* Programming Room Card */}
                            <div 
                                onClick={() => { setActiveSubject('programming'); setMode('welcome'); }}
                                className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-2xl hover:border-emerald-200 hover:-translate-y-1 transition-all cursor-pointer group"
                            >
                                <div className="bg-emerald-100 w-16 h-16 rounded-full flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform">
                                    <Icons.Terminal />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-2">Computer Programming</h2>
                                <p className="text-gray-500 text-sm">C++ syntax, loops, arrays, and algorithms.</p>
                                <div className="mt-6 text-emerald-600 font-semibold flex items-center gap-2">
                                    Enter Room <Icons.ArrowRight />
                                </div>
                            </div>

                            {/* Quantum Room Card */}
                            <div 
                                onClick={() => { setActiveSubject('quantum'); setMode('welcome'); }}
                                className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-2xl hover:border-purple-200 hover:-translate-y-1 transition-all cursor-pointer group"
                            >
                                <div className="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center text-purple-600 mb-6 group-hover:scale-110 transition-transform">
                                    <Icons.Atom />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-2">Quantum Physics</h2>
                                <p className="text-gray-500 text-sm">Wave functions, Schrödinger Eq, and Infinite Wells.</p>
                                <div className="mt-6 text-purple-600 font-semibold flex items-center gap-2">
                                    Enter Room <Icons.ArrowRight />
                                </div>
                            </div>

                            {/* Differential Equations Card */}
                            <div 
                                onClick={() => { setActiveSubject('math'); setMode('welcome'); setPdfFile(null); setSubSection(null); }}
                                className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-2xl hover:border-orange-200 hover:-translate-y-1 transition-all cursor-pointer group"
                            >
                                <div className="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center text-orange-600 mb-6 group-hover:scale-110 transition-transform">
                                    <Icons.Calculator />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-2">Differential Equations</h2>
                                <p className="text-gray-500 text-sm">Numerical Analysis, Major Tasks, and Formative Assignments.</p>
                                <div className="mt-6 text-orange-600 font-semibold flex items-center gap-2">
                                    Enter Room <Icons.ArrowRight />
                                </div>
                            </div>

                            {/* Electromagnetic Fields Card (NEW) */}
                            <div 
                                onClick={() => { setActiveSubject('emFields'); setMode('welcome'); setPdfFile(null); setSubSection(null); }}
                                className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-2xl hover:border-red-200 hover:-translate-y-1 transition-all cursor-pointer group col-span-1 md:col-span-2 lg:col-span-4 lg:w-1/2 lg:mx-auto"
                            >
                                <div className="bg-red-100 w-16 h-16 rounded-full flex items-center justify-center text-red-600 mb-6 group-hover:scale-110 transition-transform mx-auto md:mx-0">
                                    <Icons.Zap />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-2 text-center md:text-left">Electromagnetic Fields</h2>
                                <p className="text-gray-500 text-sm text-center md:text-left">Electric Flux, Potential Fields, and Magnetic Strength.</p>
                                <div className="mt-6 text-red-600 font-semibold flex items-center justify-center md:justify-start gap-2">
                                    Enter Room <Icons.ArrowRight />
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // -- MAIN STUDY/QUIZ INTERFACE --
            return (
                <div className="min-h-screen flex flex-col relative">
                    {/* FLOATING FEEDBACK BUTTON - FIXED POSITION */}
                    <a 
                        href="https://docs.google.com/forms/d/e/1FAIpQLSdjFjiMzpR4qAacIY9r2SoqiPgOeTF6uQ1I8JRFudKBWUSY4A/viewform?usp=publish-editor"
                        target="_blank"
                        rel="noopener noreferrer"
                        className={`fixed bottom-6 right-6 z-50 flex items-center gap-2 px-5 py-3 rounded-full shadow-2xl transition-all hover:scale-105 border font-bold
                            ${activeSubject === 'logic' ? 'bg-blue-600 text-white border-blue-500' : 
                              activeSubject === 'programming' ? 'bg-emerald-600 text-white border-emerald-500' : 
                              activeSubject === 'quantum' ? 'bg-purple-600 text-white border-purple-500' : 
                              activeSubject === 'emFields' ? 'bg-red-600 text-white border-red-500' :
                              'bg-orange-600 text-white border-orange-500'}`}
                    >
                        <Icons.Message />
                        <span>Give Feedback</span>
                    </a>


                    {/* Header */}
                    <header className={`${activeSubject === 'logic' ? 'bg-indigo-600' : activeSubject === 'programming' ? 'bg-emerald-600' : activeSubject === 'quantum' ? 'bg-purple-600' : activeSubject === 'emFields' ? 'bg-red-600' : 'bg-orange-600'} text-white p-4 shadow-md sticky top-0 z-10 transition-colors`}>
                        <div className="max-w-4xl mx-auto flex justify-between items-center">
                            <h1 className="text-xl font-bold flex items-center gap-2 cursor-pointer" onClick={() => setMode('welcome')}>
                                {activeSubject === 'logic' ? <Icons.Cpu /> : activeSubject === 'programming' ? <Icons.Terminal /> : activeSubject === 'quantum' ? <Icons.Atom /> : activeSubject === 'emFields' ? <Icons.Zap /> : <Icons.Calculator />} 
                                {activeSubject === 'logic' ? 'Digital Logic' : activeSubject === 'programming' ? 'Programming' : activeSubject === 'quantum' ? 'Quantum Physics' : activeSubject === 'emFields' ? 'Electromagnetic Fields' : 'Diff Equations'} Hub
                            </h1>
                            <nav className="space-x-4 flex items-center">
                                <button 
                                    onClick={goHome} 
                                    className="text-white/80 hover:text-white text-sm font-semibold mr-4 border-r border-white/30 pr-4"
                                >
                                    Change Subject
                                </button>
                                {mode !== 'welcome' && (
                                     <button 
                                        onClick={() => {setMode('welcome'); setPdfFile(null); setSubSection(null);}}
                                        className="px-3 py-1 rounded transition hover:bg-white/20"
                                    >
                                        Return to Menu
                                    </button>
                                )}
                            </nav>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-4xl mx-auto p-4 md:p-6 flex-grow w-full">
                        
                        {/* WELCOME SCREEN (UNIFIED FOR ALL SUBJECTS) */}
                        {mode === 'welcome' && (
                            <div className="animate-fadeIn">
                                {!pdfFile ? (
                                    <div className="text-center py-20">
                                        <h2 className="text-4xl font-bold text-gray-900 mb-6">
                                            {activeSubject === 'logic' ? 'Digital Logic Design' : 
                                             activeSubject === 'programming' ? 'Computer Programming' : 
                                             activeSubject === 'quantum' ? 'Quantum Physics' : 
                                             activeSubject === 'emFields' ? 'Electromagnetic Fields' : 'Differential Equations & NA'}
                                        </h2>
                                        <p className="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                                            {activeSubject === 'logic' ? "Interactive explanations, circuit diagrams, and quizzes covering Decoders, MUX, and Logic Gates." :
                                             activeSubject === 'programming' ? "Practice your C++ skills with targeted quizzes on syntax, logic, and problem solving." :
                                             activeSubject === 'quantum' ? "Dive into Wave Functions, Probability, and Infinite Potential Wells." :
                                             activeSubject === 'emFields' ? "Explore Electric Fields, Magnetic Flux, and Gauss's Law." :
                                             "Practice solving Differential Equations, Laplace Transforms, and Numerical Methods."}
                                        </p>

                                        {/* Main Menu - Initial State */}
                                        {!subSection ? (
                                            <div className="max-w-4xl mx-auto">
                                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                                     {/* Study Mode Button */}
                                                     <div 
                                                        onClick={() => setSubSection('study_selection')}
                                                        className={`bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:shadow-xl cursor-pointer transition flex flex-col items-center group
                                                            ${activeSubject === 'logic' ? 'hover:border-blue-400' : activeSubject === 'programming' ? 'hover:border-emerald-400' : activeSubject === 'quantum' ? 'hover:border-purple-400' : activeSubject === 'emFields' ? 'hover:border-red-400' : 'hover:border-orange-400'}`}
                                                    >
                                                        <div className={`p-6 rounded-full mb-4 group-hover:scale-110 transition-transform 
                                                            ${activeSubject === 'logic' ? 'bg-blue-50 text-blue-600' : activeSubject === 'programming' ? 'bg-emerald-50 text-emerald-600' : activeSubject === 'quantum' ? 'bg-purple-50 text-purple-600' : activeSubject === 'emFields' ? 'bg-red-50 text-red-600' : 'bg-orange-50 text-orange-600'}`}>
                                                            <Icons.BookOpen />
                                                        </div>
                                                        <h3 className="text-xl font-bold mb-2">Study Mode</h3>
                                                        <p className="text-sm text-gray-400">Review Explanations</p>
                                                    </div>

                                                     {/* Quiz Mode Button */}
                                                     <div 
                                                        onClick={() => setSubSection('quiz_selection')}
                                                        className={`bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:shadow-xl cursor-pointer transition flex flex-col items-center group
                                                            ${activeSubject === 'logic' ? 'hover:border-blue-400' : activeSubject === 'programming' ? 'hover:border-emerald-400' : activeSubject === 'quantum' ? 'hover:border-purple-400' : activeSubject === 'emFields' ? 'hover:border-red-400' : 'hover:border-orange-400'}`}
                                                    >
                                                        <div className="bg-gray-100 p-6 rounded-full text-gray-600 mb-4 group-hover:scale-110 transition-transform">
                                                            <Icons.Play />
                                                        </div>
                                                        <h3 className="text-xl font-bold mb-2">Quiz Mode</h3>
                                                        <p className="text-sm text-gray-400">Test Your Knowledge</p>
                                                    </div>

                                                     {/* Assignments Button */}
                                                     <div 
                                                        onClick={() => setSubSection('assignments')}
                                                        className={`bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:shadow-xl cursor-pointer transition flex flex-col items-center group
                                                            ${activeSubject === 'logic' ? 'hover:border-blue-400' : activeSubject === 'programming' ? 'hover:border-emerald-400' : activeSubject === 'quantum' ? 'hover:border-purple-400' : activeSubject === 'emFields' ? 'hover:border-red-400' : 'hover:border-orange-400'}`}
                                                    >
                                                        <div className="bg-blue-50 p-6 rounded-full text-blue-600 mb-4 group-hover:scale-110 transition-transform">
                                                            <Icons.FileText />
                                                        </div>
                                                        <h3 className="text-xl font-bold mb-2">Assignments</h3>
                                                        <p className="text-sm text-gray-400">PDF Resources</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ) : null}

                                        {/* Study/Quiz Selection Sub-Menu */}
                                        {(subSection === 'study_selection' || subSection === 'quiz_selection') && (
                                            <div className="max-w-4xl mx-auto text-left">
                                                <button 
                                                    onClick={() => setSubSection(null)}
                                                    className={`self-start mb-4 flex items-center gap-2 font-semibold hover:underline
                                                        ${activeSubject === 'logic' ? 'text-blue-600' : activeSubject === 'programming' ? 'text-emerald-600' : activeSubject === 'quantum' ? 'text-purple-600' : activeSubject === 'emFields' ? 'text-red-600' : 'text-orange-600'}`}
                                                >
                                                    ← Back to Menu
                                                </button>
                                                <p className="text-gray-500 mb-10 text-center">Select an exam/topic to {subSection === 'study_selection' ? 'review' : 'start quiz'}.</p>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                                    {getExams(activeSubject).map((exam) => (
                                                        <div 
                                                            key={exam.id}
                                                            onClick={() => handleExamStart(exam.id)}
                                                            className={`bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:shadow-xl cursor-pointer transition flex flex-col items-center
                                                                ${activeSubject === 'logic' ? 'hover:border-blue-400' : activeSubject === 'programming' ? 'hover:border-emerald-400' : activeSubject === 'quantum' ? 'hover:border-purple-400' : activeSubject === 'emFields' ? 'hover:border-red-400' : 'hover:border-orange-400'}`}
                                                        >
                                                            <div className={`p-4 rounded-full mb-4
                                                                ${activeSubject === 'logic' ? 'bg-blue-50 text-blue-600' : activeSubject === 'programming' ? 'bg-emerald-50 text-emerald-600' : activeSubject === 'quantum' ? 'bg-purple-50 text-purple-600' : activeSubject === 'emFields' ? 'bg-red-50 text-red-600' : 'bg-orange-50 text-orange-600'}`}>
                                                                {subSection === 'study_selection' ? <Icons.BookOpen /> : <Icons.Play />}
                                                            </div>
                                                            <h3 className="text-xl font-bold mb-2">{exam.title}</h3>
                                                            <p className="text-sm text-gray-400">{exam.subtitle}</p>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                        
                                        {/* Assignments List View */}
                                        {subSection === 'assignments' && (
                                            <div className="max-w-4xl mx-auto text-left">
                                                <button 
                                                    onClick={() => setSubSection(null)}
                                                    className={`mb-6 flex items-center gap-2 font-semibold hover:underline
                                                        ${activeSubject === 'logic' ? 'text-blue-600' : activeSubject === 'programming' ? 'text-emerald-600' : activeSubject === 'quantum' ? 'text-purple-600' : activeSubject === 'emFields' ? 'text-red-600' : 'text-orange-600'}`}
                                                >
                                                    ← Back to Menu
                                                </button>
                                                <h3 className="text-2xl font-bold text-gray-800 mb-6">Assignment PDFs</h3>
                                                
                                                {activeSubject === 'math' ? (
                                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                        <div 
                                                            onClick={() => setPdfFile('Screenshot 2025-12-13 001656 (1).pdf')}
                                                            className="bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:border-orange-400 hover:shadow-xl cursor-pointer transition flex flex-col items-center"
                                                        >
                                                            <div className="bg-orange-50 p-4 rounded-full text-orange-600 mb-4">
                                                                <Icons.FileText />
                                                            </div>
                                                            <h3 className="text-xl font-bold mb-2">Major Task Part (2)</h3>
                                                            <p className="text-sm text-gray-400">View Solutions PDF</p>
                                                        </div>

                                                        <div 
                                                            onClick={() => setPdfFile('PHM213s_FormativeAssignment.key (1).pdf')}
                                                            className="bg-white p-8 rounded-xl shadow-md border border-gray-100 hover:border-orange-400 hover:shadow-xl cursor-pointer transition flex flex-col items-center"
                                                        >
                                                            <div className="bg-orange-50 p-4 rounded-full text-orange-600 mb-4">
                                                                <Icons.FileText />
                                                            </div>
                                                            <h3 className="text-xl font-bold mb-2">Formative Assignment</h3>
                                                            <p className="text-sm text-gray-400">View Solutions PDF</p>
                                                        </div>
                                                    </div>
                                                ) : (
                                                    <div className="text-center text-gray-500 py-10 italic border border-dashed border-gray-300 rounded-xl">
                                                        No assignments available for this subject yet.
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                    </div>
                                ) : (
                                    <div className="w-full h-full flex flex-col">
                                        <button 
                                            onClick={() => setPdfFile(null)}
                                            className={`self-start mb-4 flex items-center gap-2 font-semibold hover:underline
                                                ${activeSubject === 'logic' ? 'text-blue-600' : activeSubject === 'programming' ? 'text-emerald-600' : activeSubject === 'quantum' ? 'text-purple-600' : activeSubject === 'emFields' ? 'text-red-600' : 'text-orange-600'}`}
                                        >
                                            ← Back to Selection
                                        </button>
                                        <div className="bg-white p-1 rounded shadow-lg h-[800px] w-full">
                                            <object data={pdfFile} type="application/pdf" width="100%" height="100%">
                                                <div className="flex flex-col items-center justify-center h-full text-gray-500">
                                                    <p>Unable to display PDF file.</p>
                                                    <a href={pdfFile} className="text-orange-600 underline font-bold mt-2">Download instead</a>
                                                </div>
                                            </object>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* STUDY MODE (Generic) */}
                        {mode === 'study' && (
                            <div className="space-y-8 animate-fadeIn">
                                <div className={`bg-blue-50 border-l-4 ${activeSubject === 'logic' ? 'border-blue-500 text-blue-700' : activeSubject === 'programming' ? 'border-emerald-500 text-emerald-700' : activeSubject === 'quantum' ? 'border-purple-500 text-purple-700' : activeSubject === 'emFields' ? 'border-red-500 text-red-700' : 'border-orange-500 text-orange-700'} p-4 mb-6`}>
                                    <p>
                                        <strong>Study Guide ({selectedExam === 'fall2022' ? 'Fall 2022' : selectedExam === 'fall2024' ? 'Fall 2024' : 'Standard'}):</strong> Review all questions with detailed answers below.
                                    </p>
                                </div>
                                {currentData.map((q, index) => (
                                    <div key={q.id} className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                                        <div className="p-6">
                                            <div className="flex items-start justify-between mb-4">
                                                <h3 className="text-lg font-bold text-gray-900">Question {index + 1}</h3>
                                                <span className="bg-gray-100 text-gray-500 text-xs px-2 py-1 rounded-full">ID: {q.id}</span>
                                            </div>
                                            <div className="text-gray-800 text-lg mb-6">
                                                {/* Text Question (with formatting support) */}
                                                {typeof q.question === 'string' ? q.question : q.question}
                                                
                                                {/* Logic Diagram Image if present */}
                                                {q.image && <img src={q.image} alt="Question Diagram" className="max-w-full h-auto mt-4 rounded border" onError={(e) => e.target.style.display='none'} />}
                                            </div>
                                            
                                            {/* SVG Diagrams */}
                                            {q.diagramType !== 'none' && (
                                                <div className="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-100 flex justify-center">
                                                    <div className="w-full max-w-md">
                                                        <p className="text-xs text-gray-400 font-semibold uppercase mb-2 text-center">Visual Aid</p>
                                                        {q.diagramType === 'decoder-tree' && <DecoderTree />}
                                                        {q.diagramType === 'mux-tree-16' && <MuxTree16 />}
                                                        {q.diagramType === 'mux-tree-8' && <MuxTree8 />}
                                                        {q.diagramType === 'logic-gate-alarm' && <LogicGateAlarm />}
                                                        {q.diagramType === 'kmap-checkerboard' && <KMapCheckerboard />}
                                                        {q.diagramType === 'mux-realization-z' && <MuxRealizationZ />}
                                                        {q.diagramType === 'mux-minterms' && <MuxMinterms />}
                                                        {q.diagramType === 'mux-logic-gate' && <MuxLogicGate />}
                                                        {q.diagramType === 'kmap-simplify' && <KMapSimplify />}
                                                        {q.diagramType === 'kmap-sop' && <KMapSOP />}
                                                        {q.diagramType === 'logic-diagram-mux-ab' && <LogicDiagramMuxAB />}
                                                        {q.diagramType === 'logic-circuit-nors' && <LogicCircuitNORs />}
                                                        {q.diagramType === 'kmap-gray-code' && <KMapGrayCode />}
                                                        {q.diagramType === 'logic-inverters-g1g2' && <LogicInvertersToG1G2 />}
                                                        {q.diagramType === 'wave-function-n3' && <WaveFunctionN3 />}
                                                    </div>
                                                </div>
                                            )}

                                            <div className="bg-green-50 p-4 rounded-lg border border-green-100">
                                                <h4 className="font-bold text-green-800 mb-2 flex items-center gap-2">
                                                    <Icons.CheckCircle /> Correct Answer:
                                                </h4>
                                                <div className="text-green-900 font-medium mb-3">
                                                    {q.options[q.answer]}
                                                </div>
                                                <hr className="border-green-200 my-3" />
                                                <p className="text-green-800 leading-relaxed whitespace-pre-wrap">
                                                    <span className="font-semibold">Explanation: </span>
                                                    {q.explanation}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* QUIZ MODE (Generic) */}
                        {mode === 'quiz' && chunks.length > 0 && (
                            <div className="animate-fadeIn">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold">
                                        {activeSubject === 'math' ? 
                                            (selectedExam === 'fall2024' ? "Fall 2024 Exam" : "Fall 2022 Exam") 
                                            : activeSubject === 'emFields' ? "Fall 2022 Final Exam"
                                            : `Quiz Set ${currentQuizChunk + 1}`}
                                    </h2>
                                    {showResults && (
                                        <div className="flex items-center gap-2 bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-bold">
                                            <Icons.Award />
                                            Score: {calculateScore()} / {chunks[currentQuizChunk].length}
                                        </div>
                                    )}
                                </div>

                                <div className="space-y-6">
                                    {chunks[currentQuizChunk].map((q, idx) => {
                                        const isAnswered = quizState[q.id] !== undefined;
                                        const isCorrect = quizState[q.id] === q.answer;
                                        
                                        return (
                                            <div key={q.id} className={`bg-white rounded-lg shadow-sm border ${showResults ? (isCorrect ? 'border-green-500 ring-1 ring-green-500' : 'border-red-500 ring-1 ring-red-500') : 'border-gray-200'} transition-all`}>
                                                <div className="p-6">
                                                    <div className="text-lg font-medium mb-4">
                                                        <span className="text-gray-400 font-bold mr-2">{idx + 1}.</span>
                                                        {typeof q.question === 'string' ? q.question : q.question}
                                                        {q.image && <img src={q.image} alt="Question Diagram" className="max-w-full h-auto mt-4 rounded border" onError={(e) => e.target.style.display='none'} />}
                                                    </div>

                                                    {/* Visual Aid in Quiz Mode */}
                                                    {q.diagramType !== 'none' && (
                                                        <div className="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-100 flex justify-center">
                                                            <div className="w-full max-w-md">
                                                                <p className="text-xs text-gray-400 font-semibold uppercase mb-2 text-center">Visual Aid</p>
                                                                {q.diagramType === 'decoder-tree' && <DecoderTree />}
                                                                {q.diagramType === 'mux-tree-16' && <MuxTree16 />}
                                                                {q.diagramType === 'mux-tree-8' && <MuxTree8 />}
                                                                {q.diagramType === 'logic-gate-alarm' && <LogicGateAlarm />}
                                                                {q.diagramType === 'kmap-checkerboard' && <KMapCheckerboard />}
                                                                {q.diagramType === 'mux-realization-z' && <MuxRealizationZ />}
                                                                {q.diagramType === 'mux-minterms' && <MuxMinterms />}
                                                                {q.diagramType === 'mux-logic-gate' && <MuxLogicGate />}
                                                                {q.diagramType === 'kmap-simplify' && <KMapSimplify />}
                                                                {q.diagramType === 'kmap-sop' && <KMapSOP />}
                                                                {q.diagramType === 'logic-diagram-mux-ab' && <LogicDiagramMuxAB />}
                                                                {q.diagramType === 'logic-circuit-nors' && <LogicCircuitNORs />}
                                                                {q.diagramType === 'kmap-gray-code' && <KMapGrayCode />}
                                                                {q.diagramType === 'logic-inverters-g1g2' && <LogicInvertersToG1G2 />}
                                                                {q.diagramType === 'wave-function-n3' && <WaveFunctionN3 />}
                                                            </div>
                                                        </div>
                                                    )}

                                                    <div className="space-y-3">
                                                        {q.options.map((opt, optIdx) => (
                                                            <button
                                                                key={optIdx}
                                                                onClick={() => !showResults && handleAnswer(q.id, optIdx)}
                                                                disabled={showResults}
                                                                className={`w-full text-left p-3 rounded-md border transition-all flex justify-between items-center
                                                                    ${!showResults && quizState[q.id] === optIdx ? 'bg-indigo-50 border-indigo-500 text-indigo-700' : ''}
                                                                    ${!showResults && quizState[q.id] !== optIdx ? 'hover:bg-gray-50 border-gray-200' : ''}
                                                                    ${showResults && q.answer === optIdx ? 'bg-green-100 border-green-500 text-green-800 font-semibold' : ''}
                                                                    ${showResults && quizState[q.id] === optIdx && q.answer !== optIdx ? 'bg-red-100 border-red-500 text-red-800' : ''}
                                                                `}
                                                            >
                                                                {opt}
                                                                {showResults && q.answer === optIdx && <div className="text-green-600"><Icons.CheckCircle /></div>}
                                                                {showResults && quizState[q.id] === optIdx && q.answer !== optIdx && <div className="text-red-600"><Icons.XCircle /></div>}
                                                            </button>
                                                        ))}
                                                    </div>

                                                    {/* Explanation Reveal */}
                                                    {showResults && (
                                                        <div className="mt-6 pt-4 border-t border-gray-100 animate-fadeIn">
                                                            <details className="group">
                                                                <summary className="flex items-center gap-2 cursor-pointer text-indigo-600 font-semibold select-none">
                                                                    <Icons.Eye /> View Explanation
                                                                    <div className="transition-transform group-open:rotate-180"><Icons.ChevronDown /></div>
                                                                </summary>
                                                                <div className="mt-3 text-gray-700 bg-gray-50 p-4 rounded-lg">
                                                                    <p className="mb-2 whitespace-pre-wrap">{q.explanation}</p>
                                                                </div>
                                                            </details>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>

                                <div className="mt-8 flex justify-end pb-10">
                                    {!showResults ? (
                                        <button 
                                            onClick={() => setShowResults(true)}
                                            disabled={Object.keys(quizState).length < chunks[currentQuizChunk].length}
                                            className={`px-8 py-3 rounded-lg font-bold shadow-md transition
                                                ${Object.keys(quizState).length < chunks[currentQuizChunk].length 
                                                    ? 'bg-gray-300 text-gray-500 cursor-not-allowed' 
                                                    : 'bg-indigo-600 text-white hover:bg-indigo-700'}`}
                                        >
                                            Submit Quiz
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={nextChunk}
                                            className="flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-lg font-bold shadow-md hover:bg-indigo-700 transition"
                                        >
                                            {currentQuizChunk < chunks.length - 1 ? 'Next Quiz Set' : 'Finish & Return Home'} <Icons.ArrowRight />
                                        </button>
                                    )}
                                </div>
                            </div>
                        )}
                    </main>
                    
                    {/* FOOTER */}
                    <footer className="bg-gray-100 p-6 text-center border-t border-gray-200 mt-auto">
                        <p className="text-gray-600 mb-2">Study Pulse v4.0</p>
                        <a 
                            href="https://docs.google.com/forms/d/e/1FAIpQLSdjFjiMzpR4qAacIY9r2SoqiPgOeTF6uQ1I8JRFudKBWUSY4A/viewform?usp=publish-editor" 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="inline-flex items-center gap-2 bg-white px-4 py-2 rounded border border-gray-300 text-indigo-600 font-medium hover:bg-gray-50 transition-colors shadow-sm"
                        >
                            <span>Fill out the Feedback Form</span>
                        </a>
                    </footer>
                </div>
            );
        }
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
